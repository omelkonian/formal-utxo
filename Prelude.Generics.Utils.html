<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Generics.Utils</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-utxo/tree/master/'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-------------------------------------------------</a>
<a id="51" class="Comment">-- ** Utility macros</a>

<a id="73" class="Keyword">module</a> <a id="80" href="Prelude.Generics.Utils.html" class="Module">Prelude.Generics.Utils</a> <a id="103" class="Keyword">where</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="134" class="Symbol">;</a> <a id="136" class="Keyword">open</a> <a id="141" href="Prelude.Init.html#12203" class="Module">Meta</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Prelude.Applicative.html" class="Module">Prelude.Applicative</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Prelude.Show.html" class="Module">Prelude.Show</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Prelude.ToN.html" class="Module">Prelude.ToN</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Prelude.Lists.Indexed.html" class="Module">Prelude.Lists.Indexed</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Prelude.DecEq.Core.html" class="Module">Prelude.DecEq.Core</a>

<a id="407" class="Comment">-- private variable A B : Set ℓ</a>

<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Prelude.Generics.Core.html" class="Module">Prelude.Generics.Core</a>
<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Prelude.Generics.Debug.html" class="Module">Prelude.Generics.Debug</a>

<a id="510" class="Symbol">{-#</a> <a id="514" class="Keyword">TERMINATING</a> <a id="526" class="Symbol">#-}</a>
<a id="mapVariables"></a><a id="530" href="Prelude.Generics.Utils.html#530" class="Function">mapVariables</a> <a id="543" class="Symbol">:</a> <a id="545" class="Symbol">(</a><a id="546" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="548" class="Symbol">→</a> <a id="550" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="551" class="Symbol">)</a> <a id="553" class="Symbol">→</a> <a id="555" class="Symbol">(</a><a id="556" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a> <a id="564" class="Symbol">→</a> <a id="566" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a><a id="573" class="Symbol">)</a>
<a id="575" href="Prelude.Generics.Utils.html#530" class="Function">mapVariables</a> <a id="588" href="Prelude.Generics.Utils.html#588" class="Bound">f</a> <a id="590" class="Symbol">(</a><a id="591" href="Agda.Builtin.Reflection.html#5584" class="InductiveConstructor">Pattern.var</a> <a id="603" href="Prelude.Generics.Utils.html#603" class="Bound">n</a><a id="604" class="Symbol">)</a>      <a id="611" class="Symbol">=</a> <a id="613" href="Agda.Builtin.Reflection.html#5584" class="InductiveConstructor">Pattern.var</a> <a id="625" class="Symbol">(</a><a id="626" href="Prelude.Generics.Utils.html#588" class="Bound">f</a> <a id="628" href="Prelude.Generics.Utils.html#603" class="Bound">n</a><a id="629" class="Symbol">)</a>
<a id="631" href="Prelude.Generics.Utils.html#530" class="Function">mapVariables</a> <a id="644" href="Prelude.Generics.Utils.html#644" class="Bound">f</a> <a id="646" class="Symbol">(</a><a id="647" href="Agda.Builtin.Reflection.html#5491" class="InductiveConstructor">Pattern.con</a> <a id="659" href="Prelude.Generics.Utils.html#659" class="Bound">c</a> <a id="661" href="Prelude.Generics.Utils.html#661" class="Bound">args</a><a id="665" class="Symbol">)</a> <a id="667" class="Symbol">=</a> <a id="669" href="Agda.Builtin.Reflection.html#5491" class="InductiveConstructor">Pattern.con</a> <a id="681" href="Prelude.Generics.Utils.html#659" class="Bound">c</a> <a id="683" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="685" href="Data.List.Base.html#1553" class="Function">map</a> <a id="689" class="Symbol">(λ{</a> <a id="693" class="Symbol">(</a><a id="694" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="698" href="Prelude.Generics.Utils.html#698" class="Bound">i</a> <a id="700" href="Prelude.Generics.Utils.html#700" class="Bound">p</a><a id="701" class="Symbol">)</a> <a id="703" class="Symbol">→</a> <a id="705" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="709" href="Prelude.Generics.Utils.html#698" class="Bound">i</a> <a id="711" class="Symbol">(</a><a id="712" href="Prelude.Generics.Utils.html#530" class="Function">mapVariables</a> <a id="725" href="Prelude.Generics.Utils.html#644" class="Bound">f</a> <a id="727" href="Prelude.Generics.Utils.html#700" class="Bound">p</a><a id="728" class="Symbol">)</a> <a id="730" class="Symbol">})</a> <a id="733" href="Prelude.Generics.Utils.html#661" class="Bound">args</a>
<a id="738" href="Prelude.Generics.Utils.html#530" class="CatchallClause Function">mapVariables</a><a id="750" class="CatchallClause"> </a><a id="751" class="CatchallClause Symbol">_</a><a id="752" class="CatchallClause"> </a><a id="753" href="Prelude.Generics.Utils.html#753" class="CatchallClause Bound">p</a>                    <a id="774" class="Symbol">=</a> <a id="776" href="Prelude.Generics.Utils.html#753" class="Bound">p</a>

<a id="779" class="Comment">-- alternative view of function types as a pair of a list of arguments and a return type</a>
<a id="TypeView"></a><a id="868" href="Prelude.Generics.Utils.html#868" class="Function">TypeView</a> <a id="877" class="Symbol">=</a> <a id="879" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="884" class="Symbol">(</a><a id="885" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="889" class="Symbol">(</a><a id="890" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="894" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="898" class="Symbol">))</a> <a id="901" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="903" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>

<a id="viewTy"></a><a id="909" href="Prelude.Generics.Utils.html#909" class="Function">viewTy</a> <a id="916" class="Symbol">:</a> <a id="918" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="923" class="Symbol">→</a> <a id="925" href="Prelude.Generics.Utils.html#868" class="Function">TypeView</a>
<a id="934" href="Prelude.Generics.Utils.html#909" class="Function">viewTy</a> <a id="941" class="Symbol">(</a><a id="942" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">Π[</a> <a id="945" href="Prelude.Generics.Utils.html#945" class="Bound">s</a> <a id="947" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">∶</a> <a id="949" href="Prelude.Generics.Utils.html#949" class="Bound">a</a> <a id="951" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">]</a> <a id="953" href="Prelude.Generics.Utils.html#953" class="Bound">ty</a><a id="955" class="Symbol">)</a> <a id="957" class="Symbol">=</a> <a id="959" href="Data.Product.html#2634" class="Function">Product.map₁</a> <a id="972" class="Symbol">((</a><a id="974" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="978" href="Prelude.Generics.Utils.html#945" class="Bound">s</a> <a id="980" href="Prelude.Generics.Utils.html#949" class="Bound">a</a><a id="981" class="Symbol">)</a> <a id="983" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="985" class="Symbol">)</a> <a id="987" class="Symbol">(</a><a id="988" href="Prelude.Generics.Utils.html#909" class="Function">viewTy</a> <a id="995" href="Prelude.Generics.Utils.html#953" class="Bound">ty</a><a id="997" class="Symbol">)</a>
<a id="999" href="Prelude.Generics.Utils.html#909" class="CatchallClause Function">viewTy</a><a id="1005" class="CatchallClause"> </a><a id="1006" href="Prelude.Generics.Utils.html#1006" class="CatchallClause Bound">ty</a>              <a id="1022" class="Symbol">=</a> <a id="1024" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1027" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1029" href="Prelude.Generics.Utils.html#1006" class="Bound">ty</a>

<a id="tyView"></a><a id="1033" href="Prelude.Generics.Utils.html#1033" class="Function">tyView</a> <a id="1040" class="Symbol">:</a> <a id="1042" href="Prelude.Generics.Utils.html#868" class="Function">TypeView</a> <a id="1051" class="Symbol">→</a> <a id="1053" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="1058" href="Prelude.Generics.Utils.html#1033" class="Function">tyView</a> <a id="1065" class="Symbol">(</a><a id="1066" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1069" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1071" href="Prelude.Generics.Utils.html#1071" class="Bound">ty</a><a id="1073" class="Symbol">)</a> <a id="1075" class="Symbol">=</a> <a id="1077" href="Prelude.Generics.Utils.html#1071" class="Bound">ty</a>
<a id="1080" href="Prelude.Generics.Utils.html#1033" class="Function">tyView</a> <a id="1087" class="Symbol">(</a><a id="1088" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="1092" href="Prelude.Generics.Utils.html#1092" class="Bound">s</a> <a id="1094" href="Prelude.Generics.Utils.html#1094" class="Bound">a</a> <a id="1096" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1098" href="Prelude.Generics.Utils.html#1098" class="Bound">as</a> <a id="1101" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1103" href="Prelude.Generics.Utils.html#1103" class="Bound">ty</a><a id="1105" class="Symbol">)</a> <a id="1107" class="Symbol">=</a> <a id="1109" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">Π[</a> <a id="1112" href="Prelude.Generics.Utils.html#1092" class="Bound">s</a> <a id="1114" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">∶</a> <a id="1116" href="Prelude.Generics.Utils.html#1094" class="Bound">a</a> <a id="1118" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">]</a> <a id="1120" href="Prelude.Generics.Utils.html#1033" class="Function">tyView</a> <a id="1127" class="Symbol">(</a><a id="1128" href="Prelude.Generics.Utils.html#1098" class="Bound">as</a> <a id="1131" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1133" href="Prelude.Generics.Utils.html#1103" class="Bound">ty</a><a id="1135" class="Symbol">)</a>

<a id="argumentWise"></a><a id="1138" href="Prelude.Generics.Utils.html#1138" class="Function">argumentWise</a> <a id="1151" class="Symbol">:</a> <a id="1153" class="Symbol">(</a><a id="1154" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1159" class="Symbol">→</a> <a id="1161" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="1165" class="Symbol">)</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1174" class="Symbol">→</a> <a id="1176" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="1181" href="Prelude.Generics.Utils.html#1138" class="Function">argumentWise</a> <a id="1194" href="Prelude.Generics.Utils.html#1194" class="Bound">f</a> <a id="1196" href="Prelude.Generics.Utils.html#1196" class="Bound">ty</a> <a id="1199" class="Symbol">=</a>
  <a id="1203" class="Keyword">let</a>
    <a id="1211" href="Prelude.Generics.Utils.html#1211" class="Bound">as</a> <a id="1214" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1216" href="Prelude.Generics.Utils.html#1216" class="Bound">r</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="Prelude.Generics.Utils.html#909" class="Function">viewTy</a> <a id="1227" href="Prelude.Generics.Utils.html#1196" class="Bound">ty</a>
    <a id="1234" href="Prelude.Generics.Utils.html#1234" class="Bound">as′</a> <a id="1238" class="Symbol">=</a> <a id="1240" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1244" class="Symbol">(</a><a id="1245" href="Prelude.Functor.html#412" class="Function">fmap</a> <a id="1250" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1252" href="Prelude.Functor.html#412" class="Function">fmap</a> <a id="1257" href="Prelude.Generics.Utils.html#1194" class="Bound">f</a><a id="1258" class="Symbol">)</a> <a id="1260" href="Prelude.Generics.Utils.html#1211" class="Bound">as</a>
  <a id="1265" class="Keyword">in</a> <a id="1268" href="Prelude.Generics.Utils.html#1033" class="Function">tyView</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Prelude.Generics.Utils.html#1234" class="Bound">as′</a> <a id="1280" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1282" href="Prelude.Generics.Utils.html#1216" class="Bound">r</a><a id="1283" class="Symbol">)</a>

<a id="viewTy′"></a><a id="1286" href="Prelude.Generics.Utils.html#1286" class="Function">viewTy′</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="1308" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1313" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1315" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="1320" href="Prelude.Generics.Utils.html#1286" class="Function">viewTy′</a> <a id="1328" class="Symbol">(</a><a id="1329" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">Π[</a> <a id="1332" class="Symbol">_</a> <a id="1334" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">∶</a> <a id="1336" href="Prelude.Generics.Utils.html#1336" class="Bound">a</a> <a id="1338" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">]</a> <a id="1340" href="Prelude.Generics.Utils.html#1340" class="Bound">ty</a><a id="1342" class="Symbol">)</a> <a id="1344" class="Symbol">=</a> <a id="1346" href="Data.Product.html#2634" class="Function">Product.map₁</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Prelude.Generics.Utils.html#1336" class="Bound">a</a> <a id="1362" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="1364" class="Symbol">)</a> <a id="1366" class="Symbol">(</a><a id="1367" href="Prelude.Generics.Utils.html#1286" class="Function">viewTy′</a> <a id="1375" href="Prelude.Generics.Utils.html#1340" class="Bound">ty</a><a id="1377" class="Symbol">)</a>
<a id="1379" href="Prelude.Generics.Utils.html#1286" class="CatchallClause Function">viewTy′</a><a id="1386" class="CatchallClause"> </a><a id="1387" href="Prelude.Generics.Utils.html#1387" class="CatchallClause Bound">ty</a>              <a id="1403" class="Symbol">=</a> <a id="1405" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1408" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1410" href="Prelude.Generics.Utils.html#1387" class="Bound">ty</a>

<a id="1414" class="Comment">-- mkTy : Args Type × Type → Type</a>
<a id="1448" class="Comment">-- mkTy ([] , ty) = ty</a>
<a id="1471" class="Comment">-- mkTy (a ∷ as , ty) = Π[ _ ∶ a ] mkTy (as , ty)</a>

<a id="argTys"></a><a id="1522" href="Prelude.Generics.Utils.html#1522" class="Function">argTys</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="1543" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="1548" href="Prelude.Generics.Utils.html#1522" class="Function">argTys</a> <a id="1555" class="Symbol">=</a> <a id="1557" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1563" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1565" href="Prelude.Generics.Utils.html#1286" class="Function">viewTy′</a>

<a id="resultTy"></a><a id="1574" href="Prelude.Generics.Utils.html#1574" class="Function">resultTy</a> <a id="1583" class="Symbol">:</a> <a id="1585" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1590" class="Symbol">→</a> <a id="1592" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="1597" href="Prelude.Generics.Utils.html#1574" class="Function">resultTy</a> <a id="1606" class="Symbol">=</a> <a id="1608" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1614" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1616" href="Prelude.Generics.Utils.html#1286" class="Function">viewTy′</a>

<a id="tyTele"></a><a id="1625" href="Prelude.Generics.Utils.html#1625" class="Function">tyTele</a> <a id="1632" class="Symbol">:</a> <a id="1634" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1639" class="Symbol">→</a> <a id="1641" href="Reflection.Term.html#1580" class="Function">Telescope</a>
<a id="1651" href="Prelude.Generics.Utils.html#1625" class="Function">tyTele</a> <a id="1658" class="Symbol">=</a> <a id="1660" class="Symbol">λ</a> <a id="1662" class="Keyword">where</a>
  <a id="1670" class="Symbol">(</a><a id="1671" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">Π[</a> <a id="1674" href="Prelude.Generics.Utils.html#1674" class="Bound">s</a> <a id="1676" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">∶</a> <a id="1678" href="Prelude.Generics.Utils.html#1678" class="Bound">a</a> <a id="1680" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">]</a> <a id="1682" href="Prelude.Generics.Utils.html#1682" class="Bound">ty</a><a id="1684" class="Symbol">)</a> <a id="1686" class="Symbol">→</a> <a id="1688" class="Symbol">(</a><a id="1689" href="Prelude.Generics.Utils.html#1674" class="Bound">s</a> <a id="1691" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1693" href="Prelude.Generics.Utils.html#1678" class="Bound">a</a><a id="1694" class="Symbol">)</a> <a id="1696" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1698" href="Prelude.Generics.Utils.html#1625" class="Function">tyTele</a> <a id="1705" href="Prelude.Generics.Utils.html#1682" class="Bound">ty</a>
  <a id="1710" class="CatchallClause Symbol">_</a> <a id="1712" class="Symbol">→</a> <a id="1714" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="tyName"></a><a id="1718" href="Prelude.Generics.Utils.html#1718" class="Function">tyName</a> <a id="1725" class="Symbol">:</a> <a id="1727" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1732" class="Symbol">→</a> <a id="1734" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1740" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
<a id="1745" href="Prelude.Generics.Utils.html#1718" class="Function">tyName</a> <a id="1752" class="Symbol">(</a><a id="1753" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="1757" href="Prelude.Generics.Utils.html#1757" class="Bound">n</a> <a id="1759" class="Symbol">_)</a> <a id="1762" class="Symbol">=</a> <a id="1764" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1769" href="Prelude.Generics.Utils.html#1757" class="Bound">n</a>
<a id="1771" href="Prelude.Generics.Utils.html#1718" class="Function">tyName</a> <a id="1778" class="Symbol">(</a><a id="1779" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="1783" href="Prelude.Generics.Utils.html#1783" class="Bound">n</a> <a id="1785" class="Symbol">_)</a> <a id="1788" class="Symbol">=</a> <a id="1790" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1795" href="Prelude.Generics.Utils.html#1783" class="Bound">n</a>
<a id="1797" href="Prelude.Generics.Utils.html#1718" class="CatchallClause Function">tyName</a><a id="1803" class="CatchallClause"> </a><a id="1804" class="CatchallClause Symbol">_</a>         <a id="1814" class="Symbol">=</a> <a id="1816" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>

<a id="args"></a><a id="1825" href="Prelude.Generics.Utils.html#1825" class="Function">args</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1837" class="Symbol">→</a> <a id="1839" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="1844" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="1849" href="Prelude.Generics.Utils.html#1825" class="Function">args</a> <a id="1854" class="Symbol">(</a><a id="1855" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="1859" class="Symbol">_</a> <a id="1861" href="Prelude.Generics.Utils.html#1861" class="Bound">xs</a><a id="1863" class="Symbol">)</a>  <a id="1866" class="Symbol">=</a> <a id="1868" href="Prelude.Generics.Utils.html#1861" class="Bound">xs</a>
<a id="1871" href="Prelude.Generics.Utils.html#1825" class="Function">args</a> <a id="1876" class="Symbol">(</a><a id="1877" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="1881" class="Symbol">_</a> <a id="1883" href="Prelude.Generics.Utils.html#1883" class="Bound">xs</a><a id="1885" class="Symbol">)</a>  <a id="1888" class="Symbol">=</a> <a id="1890" href="Prelude.Generics.Utils.html#1883" class="Bound">xs</a>
<a id="1893" href="Prelude.Generics.Utils.html#1825" class="Function">args</a> <a id="1898" class="Symbol">(</a><a id="1899" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="1903" class="Symbol">_</a> <a id="1905" href="Prelude.Generics.Utils.html#1905" class="Bound">xs</a><a id="1907" class="Symbol">)</a>  <a id="1910" class="Symbol">=</a> <a id="1912" href="Prelude.Generics.Utils.html#1905" class="Bound">xs</a>
<a id="1915" href="Prelude.Generics.Utils.html#1825" class="CatchallClause Function">args</a><a id="1919" class="CatchallClause"> </a><a id="1920" class="CatchallClause Symbol">_</a>           <a id="1932" class="Symbol">=</a> <a id="1934" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="args′"></a><a id="1938" href="Prelude.Generics.Utils.html#1938" class="Function">args′</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1951" class="Symbol">→</a> <a id="1953" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1958" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="1963" href="Prelude.Generics.Utils.html#1938" class="Function">args′</a> <a id="1969" class="Symbol">=</a> <a id="1971" href="Prelude.Generics.Core.html#2989" class="Function">unArgs</a> <a id="1978" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1980" href="Prelude.Generics.Utils.html#1825" class="Function">args</a>


<a id="1987" class="Keyword">module</a> <a id="1994" href="Prelude.Generics.Utils.html#1994" class="Module">_</a> <a id="1996" class="Symbol">(</a><a id="1997" href="Prelude.Generics.Utils.html#1997" class="Bound">f</a> <a id="1999" class="Symbol">:</a> <a id="2001" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2003" class="Symbol">→</a> <a id="2005" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="2006" class="Symbol">)</a> <a id="2008" class="Keyword">where</a>

  <a id="2017" href="Prelude.Generics.Utils.html#2017" class="Function Operator">_⁇_</a> <a id="2021" class="Symbol">:</a> <a id="2023" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2025" class="Symbol">→</a> <a id="2027" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2029" class="Symbol">→</a> <a id="2031" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
  <a id="2035" href="Prelude.Generics.Utils.html#2035" class="Bound">bound</a> <a id="2041" href="Prelude.Generics.Utils.html#2017" class="Function Operator">⁇</a> <a id="2043" href="Prelude.Generics.Utils.html#2043" class="Bound">x</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="2050" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="2052" href="Prelude.Generics.Utils.html#2035" class="Bound">bound</a> <a id="2058" href="Data.Nat.Properties.html#5527" class="Function Operator">Nat.≤?</a> <a id="2065" href="Prelude.Generics.Utils.html#2043" class="Bound">x</a> <a id="2067" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a> <a id="2069" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="2074" href="Prelude.Generics.Utils.html#1997" class="Bound">f</a> <a id="2076" href="Prelude.Generics.Utils.html#2043" class="Bound">x</a> <a id="2078" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="2083" href="Prelude.Generics.Utils.html#2043" class="Bound">x</a>

  <a id="2088" class="Keyword">mutual</a>
    <a id="2099" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="2111" class="Symbol">:</a> <a id="2113" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2115" class="Symbol">→</a> <a id="2117" class="Symbol">(</a><a id="2118" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="2123" class="Symbol">→</a> <a id="2125" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="2129" class="Symbol">)</a>
    <a id="2135" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="2147" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2153" class="Symbol">=</a> <a id="2155" class="Symbol">λ</a> <a id="2157" class="Keyword">where</a>
      <a id="2169" class="Symbol">(</a><a id="2170" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="2174" href="Prelude.Generics.Utils.html#2174" class="Bound">x</a> <a id="2176" href="Prelude.Generics.Utils.html#2176" class="Bound">as</a><a id="2178" class="Symbol">)</a>
        <a id="2188" class="Symbol">→</a> <a id="2190" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="2194" class="Symbol">(</a><a id="2195" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2201" href="Prelude.Generics.Utils.html#2017" class="Function Operator">⁇</a> <a id="2203" href="Prelude.Generics.Utils.html#2174" class="Bound">x</a><a id="2204" class="Symbol">)</a> <a id="2206" class="Symbol">(</a><a id="2207" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2220" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2226" href="Prelude.Generics.Utils.html#2176" class="Bound">as</a><a id="2228" class="Symbol">)</a>
      <a id="2236" class="Symbol">(</a><a id="2237" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="2241" href="Prelude.Generics.Utils.html#2241" class="Bound">c</a> <a id="2243" href="Prelude.Generics.Utils.html#2243" class="Bound">as</a><a id="2245" class="Symbol">)</a>
        <a id="2255" class="Symbol">→</a> <a id="2257" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="2261" href="Prelude.Generics.Utils.html#2241" class="Bound">c</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2277" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2283" href="Prelude.Generics.Utils.html#2243" class="Bound">as</a><a id="2285" class="Symbol">)</a>
      <a id="2293" class="Symbol">(</a><a id="2294" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="2298" href="Prelude.Generics.Utils.html#2298" class="Bound">c</a> <a id="2300" href="Prelude.Generics.Utils.html#2300" class="Bound">as</a><a id="2302" class="Symbol">)</a>
        <a id="2312" class="Symbol">→</a> <a id="2314" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="2318" href="Prelude.Generics.Utils.html#2298" class="Bound">c</a> <a id="2320" class="Symbol">(</a><a id="2321" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2334" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2340" href="Prelude.Generics.Utils.html#2300" class="Bound">as</a><a id="2342" class="Symbol">)</a>
      <a id="2350" class="Symbol">(</a><a id="2351" href="Agda.Builtin.Reflection.html#4985" class="InductiveConstructor">lam</a> <a id="2355" href="Prelude.Generics.Utils.html#2355" class="Bound">v</a> <a id="2357" class="Symbol">(</a><a id="2358" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="2362" href="Prelude.Generics.Utils.html#2362" class="Bound">x</a> <a id="2364" href="Prelude.Generics.Utils.html#2364" class="Bound">t</a><a id="2365" class="Symbol">))</a>
        <a id="2376" class="Symbol">→</a> <a id="2378" href="Agda.Builtin.Reflection.html#4985" class="InductiveConstructor">lam</a> <a id="2382" href="Prelude.Generics.Utils.html#2355" class="Bound">v</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="2389" href="Prelude.Generics.Utils.html#2362" class="Bound">x</a> <a id="2391" class="Symbol">(</a><a id="2392" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="2404" class="Symbol">(</a><a id="2405" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2409" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a><a id="2414" class="Symbol">)</a> <a id="2416" href="Prelude.Generics.Utils.html#2364" class="Bound">t</a><a id="2417" class="Symbol">))</a>
      <a id="2426" class="Symbol">(</a><a id="2427" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="2435" href="Prelude.Generics.Utils.html#2435" class="Bound">cs</a> <a id="2438" href="Prelude.Generics.Utils.html#2438" class="Bound">as</a><a id="2440" class="Symbol">)</a>
        <a id="2450" class="Symbol">→</a> <a id="2452" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="2460" class="Symbol">(</a><a id="2461" href="Prelude.Generics.Utils.html#3896" class="Function">mapFreeVarsᶜ∗</a> <a id="2475" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2481" href="Prelude.Generics.Utils.html#2435" class="Bound">cs</a><a id="2483" class="Symbol">)</a> <a id="2485" class="Symbol">(</a><a id="2486" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2499" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2505" href="Prelude.Generics.Utils.html#2438" class="Bound">as</a><a id="2507" class="Symbol">)</a>
      <a id="2515" class="Symbol">(</a><a id="2516" href="Agda.Builtin.Reflection.html#5103" class="InductiveConstructor">pi</a> <a id="2519" class="Symbol">(</a><a id="2520" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="2524" href="Prelude.Generics.Utils.html#2524" class="Bound">i</a> <a id="2526" href="Prelude.Generics.Utils.html#2526" class="Bound">t</a><a id="2527" class="Symbol">)</a> <a id="2529" class="Symbol">(</a><a id="2530" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="2534" href="Prelude.Generics.Utils.html#2534" class="Bound">x</a> <a id="2536" href="Prelude.Generics.Utils.html#2536" class="Bound">t′</a><a id="2538" class="Symbol">))</a>
        <a id="2549" class="Symbol">→</a> <a id="2551" href="Agda.Builtin.Reflection.html#5103" class="InductiveConstructor">pi</a> <a id="2554" class="Symbol">(</a><a id="2555" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="2559" href="Prelude.Generics.Utils.html#2524" class="Bound">i</a> <a id="2561" class="Symbol">(</a><a id="2562" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="2574" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2580" href="Prelude.Generics.Utils.html#2526" class="Bound">t</a><a id="2581" class="Symbol">))</a> <a id="2584" class="Symbol">(</a><a id="2585" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="2589" href="Prelude.Generics.Utils.html#2534" class="Bound">x</a> <a id="2591" class="Symbol">(</a><a id="2592" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="2604" class="Symbol">(</a><a id="2605" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2609" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a><a id="2614" class="Symbol">)</a> <a id="2616" href="Prelude.Generics.Utils.html#2536" class="Bound">t′</a><a id="2618" class="Symbol">))</a>
      <a id="2627" class="Symbol">(</a><a id="2628" href="Reflection.Term.html#1405" class="InductiveConstructor">agda-sort</a> <a id="2638" href="Prelude.Generics.Utils.html#2638" class="Bound">s</a><a id="2639" class="Symbol">)</a>
        <a id="2649" class="Symbol">→</a> <a id="2651" href="Reflection.Term.html#1405" class="InductiveConstructor">agda-sort</a> <a id="2661" class="Symbol">(</a><a id="2662" href="Prelude.Generics.Utils.html#4048" class="Function">mapFreeVarsˢ</a> <a id="2675" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2681" href="Prelude.Generics.Utils.html#2638" class="Bound">s</a><a id="2682" class="Symbol">)</a>
      <a id="2690" class="Symbol">(</a><a id="2691" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="2696" href="Prelude.Generics.Utils.html#2696" class="Bound">x</a> <a id="2698" href="Prelude.Generics.Utils.html#2698" class="Bound">as</a><a id="2700" class="Symbol">)</a>
        <a id="2710" class="Symbol">→</a> <a id="2712" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="2717" href="Prelude.Generics.Utils.html#2696" class="Bound">x</a> <a id="2719" class="Symbol">(</a><a id="2720" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2733" href="Prelude.Generics.Utils.html#2147" class="Bound">bound</a> <a id="2739" href="Prelude.Generics.Utils.html#2698" class="Bound">as</a><a id="2741" class="Symbol">)</a>
      <a id="2749" href="Prelude.Generics.Utils.html#2749" class="CatchallClause Bound">t</a> <a id="2751" class="Symbol">→</a> <a id="2753" href="Prelude.Generics.Utils.html#2749" class="Bound">t</a>
    <a id="2759" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2772" class="Symbol">:</a> <a id="2774" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2776" class="Symbol">→</a> <a id="2778" class="Symbol">(</a><a id="2779" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="2784" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="2789" class="Symbol">→</a> <a id="2791" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="2796" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="2800" class="Symbol">)</a>
    <a id="2806" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2819" href="Prelude.Generics.Utils.html#2819" class="Bound">b</a> <a id="2821" class="Symbol">=</a> <a id="2823" class="Symbol">λ</a> <a id="2825" class="Keyword">where</a>
      <a id="2837" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="2851" class="Symbol">(</a><a id="2852" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="2856" href="Prelude.Generics.Utils.html#2856" class="Bound">i</a> <a id="2858" href="Prelude.Generics.Utils.html#2858" class="Bound">t</a> <a id="2860" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2862" href="Prelude.Generics.Utils.html#2862" class="Bound">ts</a><a id="2864" class="Symbol">)</a> <a id="2866" class="Symbol">→</a> <a id="2868" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="2872" href="Prelude.Generics.Utils.html#2856" class="Bound">i</a> <a id="2874" class="Symbol">(</a><a id="2875" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="2887" href="Prelude.Generics.Utils.html#2819" class="Bound">b</a> <a id="2889" href="Prelude.Generics.Utils.html#2858" class="Bound">t</a><a id="2890" class="Symbol">)</a> <a id="2892" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2894" href="Prelude.Generics.Utils.html#2759" class="Function">mapFreeVars∗</a> <a id="2907" href="Prelude.Generics.Utils.html#2819" class="Bound">b</a> <a id="2909" href="Prelude.Generics.Utils.html#2862" class="Bound">ts</a>

    <a id="2917" href="Prelude.Generics.Utils.html#2917" class="Function">mapFreeVarsᵖ</a> <a id="2930" class="Symbol">:</a> <a id="2932" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2934" class="Symbol">→</a> <a id="2936" class="Symbol">(</a><a id="2937" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a> <a id="2945" class="Symbol">→</a> <a id="2947" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a><a id="2954" class="Symbol">)</a>
    <a id="2960" href="Prelude.Generics.Utils.html#2917" class="Function">mapFreeVarsᵖ</a> <a id="2973" href="Prelude.Generics.Utils.html#2973" class="Bound">b</a> <a id="2975" class="Symbol">=</a> <a id="2977" class="Symbol">λ</a> <a id="2979" class="Keyword">where</a>
      <a id="2991" class="Symbol">(</a><a id="2992" href="Agda.Builtin.Reflection.html#5491" class="InductiveConstructor">con</a> <a id="2996" href="Prelude.Generics.Utils.html#2996" class="Bound">c</a> <a id="2998" href="Prelude.Generics.Utils.html#2998" class="Bound">ps</a><a id="3000" class="Symbol">)</a> <a id="3002" class="Symbol">→</a> <a id="3004" href="Agda.Builtin.Reflection.html#5491" class="InductiveConstructor">con</a> <a id="3008" href="Prelude.Generics.Utils.html#2996" class="Bound">c</a> <a id="3010" class="Symbol">(</a><a id="3011" href="Prelude.Generics.Utils.html#3122" class="Function">mapFreeVarsᵖ∗</a> <a id="3025" href="Prelude.Generics.Utils.html#2973" class="Bound">b</a> <a id="3027" href="Prelude.Generics.Utils.html#2998" class="Bound">ps</a><a id="3029" class="Symbol">)</a>
      <a id="3037" class="Symbol">(</a><a id="3038" href="Agda.Builtin.Reflection.html#5549" class="InductiveConstructor">dot</a> <a id="3042" href="Prelude.Generics.Utils.html#3042" class="Bound">t</a><a id="3043" class="Symbol">)</a>    <a id="3048" class="Symbol">→</a> <a id="3050" href="Agda.Builtin.Reflection.html#5549" class="InductiveConstructor">dot</a> <a id="3054" class="Symbol">(</a><a id="3055" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="3067" href="Prelude.Generics.Utils.html#2973" class="Bound">b</a> <a id="3069" href="Prelude.Generics.Utils.html#3042" class="Bound">t</a><a id="3070" class="Symbol">)</a>
      <a id="3078" class="Symbol">(</a><a id="3079" href="Agda.Builtin.Reflection.html#5689" class="InductiveConstructor">absurd</a> <a id="3086" href="Prelude.Generics.Utils.html#3086" class="Bound">x</a><a id="3087" class="Symbol">)</a> <a id="3089" class="Symbol">→</a> <a id="3091" href="Agda.Builtin.Reflection.html#5689" class="InductiveConstructor">absurd</a> <a id="3098" class="Symbol">(</a><a id="3099" href="Prelude.Generics.Utils.html#2973" class="Bound">b</a> <a id="3101" href="Prelude.Generics.Utils.html#2017" class="Function Operator">⁇</a> <a id="3103" href="Prelude.Generics.Utils.html#3086" class="Bound">x</a><a id="3104" class="Symbol">)</a>
      <a id="3112" href="Prelude.Generics.Utils.html#3112" class="CatchallClause Bound">p</a> <a id="3114" class="Symbol">→</a> <a id="3116" href="Prelude.Generics.Utils.html#3112" class="Bound">p</a>
    <a id="3122" href="Prelude.Generics.Utils.html#3122" class="Function">mapFreeVarsᵖ∗</a> <a id="3136" class="Symbol">:</a> <a id="3138" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3140" class="Symbol">→</a> <a id="3142" class="Symbol">(</a><a id="3143" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="3148" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a> <a id="3156" class="Symbol">→</a> <a id="3158" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="3163" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a><a id="3170" class="Symbol">)</a>
    <a id="3176" href="Prelude.Generics.Utils.html#3122" class="Function">mapFreeVarsᵖ∗</a> <a id="3190" href="Prelude.Generics.Utils.html#3190" class="Bound">b</a> <a id="3192" class="Symbol">=</a> <a id="3194" class="Symbol">λ</a> <a id="3196" class="Keyword">where</a>
      <a id="3208" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="3211" class="Symbol">→</a> <a id="3213" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="3222" class="Symbol">(</a><a id="3223" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="3227" href="Prelude.Generics.Utils.html#3227" class="Bound">i</a> <a id="3229" href="Prelude.Generics.Utils.html#3229" class="Bound">p</a> <a id="3231" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3233" href="Prelude.Generics.Utils.html#3233" class="Bound">ps</a><a id="3235" class="Symbol">)</a> <a id="3237" class="Symbol">→</a> <a id="3239" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="3243" href="Prelude.Generics.Utils.html#3227" class="Bound">i</a> <a id="3245" class="Symbol">(</a><a id="3246" href="Prelude.Generics.Utils.html#2917" class="Function">mapFreeVarsᵖ</a> <a id="3259" href="Prelude.Generics.Utils.html#3190" class="Bound">b</a> <a id="3261" href="Prelude.Generics.Utils.html#3229" class="Bound">p</a><a id="3262" class="Symbol">)</a> <a id="3264" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3266" href="Prelude.Generics.Utils.html#3122" class="Function">mapFreeVarsᵖ∗</a> <a id="3280" class="Symbol">(</a><a id="3281" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3285" href="Prelude.Generics.Utils.html#3190" class="Bound">b</a><a id="3286" class="Symbol">)</a> <a id="3288" href="Prelude.Generics.Utils.html#3233" class="Bound">ps</a>

    <a id="3296" href="Prelude.Generics.Utils.html#3296" class="Function">mapFreeVarsᵗ</a> <a id="3309" class="Symbol">:</a> <a id="3311" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3313" class="Symbol">→</a> <a id="3315" class="Symbol">(</a><a id="3316" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="3326" class="Symbol">→</a> <a id="3328" href="Reflection.Term.html#1580" class="Function">Telescope</a><a id="3337" class="Symbol">)</a>
    <a id="3343" href="Prelude.Generics.Utils.html#3296" class="Function">mapFreeVarsᵗ</a> <a id="3356" href="Prelude.Generics.Utils.html#3356" class="Bound">b</a> <a id="3358" class="Symbol">=</a> <a id="3360" class="Symbol">λ</a> <a id="3362" class="Keyword">where</a>
      <a id="3374" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="3377" class="Symbol">→</a> <a id="3379" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="3388" class="Symbol">((</a><a id="3390" href="Prelude.Generics.Utils.html#3390" class="Bound">s</a> <a id="3392" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3394" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="3398" href="Prelude.Generics.Utils.html#3398" class="Bound">i</a> <a id="3400" href="Prelude.Generics.Utils.html#3400" class="Bound">t</a><a id="3401" class="Symbol">)</a> <a id="3403" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3405" href="Prelude.Generics.Utils.html#3405" class="Bound">ts</a><a id="3407" class="Symbol">)</a> <a id="3409" class="Symbol">→</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Prelude.Generics.Utils.html#3390" class="Bound">s</a> <a id="3414" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3416" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="3420" href="Prelude.Generics.Utils.html#3398" class="Bound">i</a> <a id="3422" class="Symbol">(</a><a id="3423" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="3435" href="Prelude.Generics.Utils.html#3356" class="Bound">b</a> <a id="3437" href="Prelude.Generics.Utils.html#3400" class="Bound">t</a><a id="3438" class="Symbol">))</a> <a id="3441" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3443" href="Prelude.Generics.Utils.html#3296" class="Function">mapFreeVarsᵗ</a> <a id="3456" class="Symbol">(</a><a id="3457" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3461" href="Prelude.Generics.Utils.html#3356" class="Bound">b</a><a id="3462" class="Symbol">)</a> <a id="3464" href="Prelude.Generics.Utils.html#3405" class="Bound">ts</a>

    <a id="3472" href="Prelude.Generics.Utils.html#3472" class="Function">mapFreeVarsᶜ</a> <a id="3485" class="Symbol">:</a> <a id="3487" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3489" class="Symbol">→</a> <a id="3491" class="Symbol">(</a><a id="3492" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="3499" class="Symbol">→</a> <a id="3501" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a><a id="3507" class="Symbol">)</a>
    <a id="3513" href="Prelude.Generics.Utils.html#3472" class="Function">mapFreeVarsᶜ</a> <a id="3526" href="Prelude.Generics.Utils.html#3526" class="Bound">b</a> <a id="3528" class="Symbol">=</a> <a id="3530" class="Symbol">λ</a> <a id="3532" class="Keyword">where</a>
      <a id="3544" class="Comment">-- (tel : List (Σ String λ _ → Arg Type)) (ps : List (Arg Pattern)) (t : Term)</a>
      <a id="3629" class="Symbol">(</a><a id="3630" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">clause</a> <a id="3637" href="Prelude.Generics.Utils.html#3637" class="Bound">tel</a> <a id="3641" href="Prelude.Generics.Utils.html#3641" class="Bound">ps</a> <a id="3644" href="Prelude.Generics.Utils.html#3644" class="Bound">t</a><a id="3645" class="Symbol">)</a> <a id="3647" class="Symbol">→</a> <a id="3649" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">clause</a> <a id="3656" class="Symbol">(</a><a id="3657" href="Prelude.Generics.Utils.html#3296" class="Function">mapFreeVarsᵗ</a> <a id="3670" href="Prelude.Generics.Utils.html#3526" class="Bound">b</a> <a id="3672" href="Prelude.Generics.Utils.html#3637" class="Bound">tel</a><a id="3675" class="Symbol">)</a> <a id="3677" class="Symbol">(</a><a id="3678" href="Prelude.Generics.Utils.html#3122" class="Function">mapFreeVarsᵖ∗</a> <a id="3692" href="Prelude.Generics.Utils.html#3526" class="Bound">b</a> <a id="3694" href="Prelude.Generics.Utils.html#3641" class="Bound">ps</a><a id="3696" class="Symbol">)</a> <a id="3698" class="Symbol">(</a><a id="3699" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="3711" class="Symbol">(</a><a id="3712" href="Data.List.Base.html#4873" class="Function">length</a> <a id="3719" href="Prelude.Generics.Utils.html#3637" class="Bound">tel</a> <a id="3723" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3725" href="Prelude.Generics.Utils.html#3526" class="Bound">b</a><a id="3726" class="Symbol">)</a> <a id="3728" href="Prelude.Generics.Utils.html#3644" class="Bound">t</a><a id="3729" class="Symbol">)</a>
      <a id="3737" class="Comment">-- (tel : List (Σ String λ _ → Arg Type)) (ps : List (Arg Pattern))</a>
      <a id="3811" class="Symbol">(</a><a id="3812" href="Agda.Builtin.Reflection.html#5865" class="InductiveConstructor">absurd-clause</a> <a id="3826" href="Prelude.Generics.Utils.html#3826" class="Bound">tel</a> <a id="3830" href="Prelude.Generics.Utils.html#3830" class="Bound">ps</a><a id="3832" class="Symbol">)</a> <a id="3834" class="Symbol">→</a> <a id="3836" href="Agda.Builtin.Reflection.html#5865" class="InductiveConstructor">absurd-clause</a> <a id="3850" class="Symbol">(</a><a id="3851" href="Prelude.Generics.Utils.html#3296" class="Function">mapFreeVarsᵗ</a> <a id="3864" href="Prelude.Generics.Utils.html#3526" class="Bound">b</a> <a id="3866" href="Prelude.Generics.Utils.html#3826" class="Bound">tel</a><a id="3869" class="Symbol">)</a> <a id="3871" class="Symbol">(</a><a id="3872" href="Prelude.Generics.Utils.html#3122" class="Function">mapFreeVarsᵖ∗</a> <a id="3886" href="Prelude.Generics.Utils.html#3526" class="Bound">b</a> <a id="3888" href="Prelude.Generics.Utils.html#3830" class="Bound">ps</a><a id="3890" class="Symbol">)</a>
    <a id="3896" href="Prelude.Generics.Utils.html#3896" class="Function">mapFreeVarsᶜ∗</a> <a id="3910" class="Symbol">:</a> <a id="3912" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3914" class="Symbol">→</a> <a id="3916" class="Symbol">(</a><a id="3917" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3922" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="3929" class="Symbol">→</a> <a id="3931" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3936" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a><a id="3942" class="Symbol">)</a>
    <a id="3948" href="Prelude.Generics.Utils.html#3896" class="Function">mapFreeVarsᶜ∗</a> <a id="3962" href="Prelude.Generics.Utils.html#3962" class="Bound">b</a> <a id="3964" class="Symbol">=</a> <a id="3966" class="Symbol">λ</a> <a id="3968" class="Keyword">where</a>
      <a id="3980" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="3983" class="Symbol">→</a> <a id="3985" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="3994" class="Symbol">(</a><a id="3995" href="Prelude.Generics.Utils.html#3995" class="Bound">c</a> <a id="3997" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3999" href="Prelude.Generics.Utils.html#3999" class="Bound">cs</a><a id="4001" class="Symbol">)</a> <a id="4003" class="Symbol">→</a> <a id="4005" href="Prelude.Generics.Utils.html#3472" class="Function">mapFreeVarsᶜ</a> <a id="4018" href="Prelude.Generics.Utils.html#3962" class="Bound">b</a> <a id="4020" href="Prelude.Generics.Utils.html#3995" class="Bound">c</a> <a id="4022" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4024" href="Prelude.Generics.Utils.html#3896" class="Function">mapFreeVarsᶜ∗</a> <a id="4038" href="Prelude.Generics.Utils.html#3962" class="Bound">b</a> <a id="4040" href="Prelude.Generics.Utils.html#3999" class="Bound">cs</a>

    <a id="4048" href="Prelude.Generics.Utils.html#4048" class="Function">mapFreeVarsˢ</a> <a id="4061" class="Symbol">:</a> <a id="4063" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="4065" class="Symbol">→</a> <a id="4067" class="Symbol">(</a><a id="4068" href="Agda.Builtin.Reflection.html#4689" class="Datatype">Sort</a> <a id="4073" class="Symbol">→</a> <a id="4075" href="Agda.Builtin.Reflection.html#4689" class="Datatype">Sort</a><a id="4079" class="Symbol">)</a>
    <a id="4085" href="Prelude.Generics.Utils.html#4048" class="Function">mapFreeVarsˢ</a> <a id="4098" href="Prelude.Generics.Utils.html#4098" class="Bound">b</a> <a id="4100" class="Symbol">=</a> <a id="4102" class="Symbol">λ</a> <a id="4104" class="Keyword">where</a>
      <a id="4116" class="Symbol">(</a><a id="4117" href="Agda.Builtin.Reflection.html#5307" class="InductiveConstructor">set</a> <a id="4121" href="Prelude.Generics.Utils.html#4121" class="Bound">t</a><a id="4122" class="Symbol">)</a> <a id="4124" class="Symbol">→</a> <a id="4126" href="Agda.Builtin.Reflection.html#5307" class="InductiveConstructor">set</a> <a id="4130" class="Symbol">(</a><a id="4131" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="4143" href="Prelude.Generics.Utils.html#4098" class="Bound">b</a> <a id="4145" href="Prelude.Generics.Utils.html#4121" class="Bound">t</a><a id="4146" class="Symbol">)</a>
      <a id="4154" class="Symbol">(</a><a id="4155" href="Agda.Builtin.Reflection.html#5366" class="InductiveConstructor">prop</a> <a id="4160" href="Prelude.Generics.Utils.html#4160" class="Bound">t</a><a id="4161" class="Symbol">)</a> <a id="4163" class="Symbol">→</a> <a id="4165" href="Agda.Builtin.Reflection.html#5366" class="InductiveConstructor">prop</a> <a id="4170" class="Symbol">(</a><a id="4171" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="4183" href="Prelude.Generics.Utils.html#4098" class="Bound">b</a> <a id="4185" href="Prelude.Generics.Utils.html#4160" class="Bound">t</a><a id="4186" class="Symbol">)</a>
      <a id="4194" href="Prelude.Generics.Utils.html#4194" class="CatchallClause Bound">s</a> <a id="4196" class="Symbol">→</a> <a id="4198" href="Prelude.Generics.Utils.html#4194" class="Bound">s</a>

  <a id="4203" href="Prelude.Generics.Utils.html#4203" class="Function">mapVars</a> <a id="4211" class="Symbol">:</a> <a id="4213" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="4218" class="Symbol">→</a> <a id="4220" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="4227" href="Prelude.Generics.Utils.html#4203" class="Function">mapVars</a> <a id="4235" class="Symbol">=</a> <a id="4237" href="Prelude.Generics.Utils.html#2099" class="Function">mapFreeVars</a> <a id="4249" class="Number">0</a>

<a id="4252" class="Comment">-- mapVars′ : (ℕ → ℕ) → Args Type → Args Type</a>

<a id="4299" class="Comment">-- mapVars f (var x args) = var (f x) (mapVars′ f args)</a>
<a id="4355" class="Comment">-- mapVars f (def c args) = def c (mapVars′ f args)</a>
<a id="4407" class="Comment">-- mapVars f (con c args) = con c (mapVars′ f args)</a>
<a id="4459" class="Comment">-- mapVars f (lam v (abs x t)) = lam v (abs x t′)</a>
<a id="4509" class="Comment">-- mapVars _ ty           = ty</a>

<a id="4541" class="Comment">-- mapVars′ f []              = []</a>
<a id="4576" class="Comment">-- mapVars′ f (arg i ty ∷ xs) = arg i (mapVars f ty) ∷ mapVars′ f xs</a>

<a id="varsToUnknown"></a><a id="4646" href="Prelude.Generics.Utils.html#4646" class="Function">varsToUnknown</a> <a id="4660" class="Symbol">:</a> <a id="4662" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="4667" class="Symbol">→</a> <a id="4669" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="varsToUnknown′"></a><a id="4674" href="Prelude.Generics.Utils.html#4674" class="Function">varsToUnknown′</a> <a id="4689" class="Symbol">:</a> <a id="4691" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="4696" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="4701" class="Symbol">→</a> <a id="4703" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="4708" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>

<a id="4714" href="Prelude.Generics.Utils.html#4646" class="Function">varsToUnknown</a> <a id="4728" class="Symbol">(</a><a id="4729" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="4733" class="Symbol">_</a> <a id="4735" class="Symbol">_)</a>  <a id="4739" class="Symbol">=</a> <a id="4741" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
<a id="4749" href="Prelude.Generics.Utils.html#4646" class="Function">varsToUnknown</a> <a id="4763" class="Symbol">(</a><a id="4764" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="4768" href="Prelude.Generics.Utils.html#4768" class="Bound">c</a> <a id="4770" href="Prelude.Generics.Utils.html#4770" class="Bound">xs</a><a id="4772" class="Symbol">)</a> <a id="4774" class="Symbol">=</a> <a id="4776" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="4780" href="Prelude.Generics.Utils.html#4768" class="Bound">c</a> <a id="4782" class="Symbol">(</a><a id="4783" href="Prelude.Generics.Utils.html#4674" class="Function">varsToUnknown′</a> <a id="4798" href="Prelude.Generics.Utils.html#4770" class="Bound">xs</a><a id="4800" class="Symbol">)</a>
<a id="4802" href="Prelude.Generics.Utils.html#4646" class="Function">varsToUnknown</a> <a id="4816" class="Symbol">(</a><a id="4817" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="4821" href="Prelude.Generics.Utils.html#4821" class="Bound">c</a> <a id="4823" href="Prelude.Generics.Utils.html#4823" class="Bound">xs</a><a id="4825" class="Symbol">)</a> <a id="4827" class="Symbol">=</a> <a id="4829" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="4833" href="Prelude.Generics.Utils.html#4821" class="Bound">c</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Prelude.Generics.Utils.html#4674" class="Function">varsToUnknown′</a> <a id="4851" href="Prelude.Generics.Utils.html#4823" class="Bound">xs</a><a id="4853" class="Symbol">)</a>
<a id="4855" href="Prelude.Generics.Utils.html#4646" class="CatchallClause Function">varsToUnknown</a><a id="4868" class="CatchallClause"> </a><a id="4869" href="Prelude.Generics.Utils.html#4869" class="CatchallClause Bound">ty</a>         <a id="4880" class="Symbol">=</a> <a id="4882" href="Prelude.Generics.Utils.html#4869" class="Bound">ty</a>

<a id="4886" href="Prelude.Generics.Utils.html#4674" class="Function">varsToUnknown′</a> <a id="4901" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>              <a id="4917" class="Symbol">=</a> <a id="4919" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
<a id="4922" href="Prelude.Generics.Utils.html#4674" class="Function">varsToUnknown′</a> <a id="4937" class="Symbol">(</a><a id="4938" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="4942" href="Prelude.Generics.Utils.html#4942" class="Bound">i</a> <a id="4944" href="Prelude.Generics.Utils.html#4944" class="Bound">ty</a> <a id="4947" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4949" href="Prelude.Generics.Utils.html#4949" class="Bound">xs</a><a id="4951" class="Symbol">)</a> <a id="4953" class="Symbol">=</a> <a id="4955" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="4959" href="Prelude.Generics.Utils.html#4942" class="Bound">i</a> <a id="4961" class="Symbol">(</a><a id="4962" href="Prelude.Generics.Utils.html#4646" class="Function">varsToUnknown</a> <a id="4976" href="Prelude.Generics.Utils.html#4944" class="Bound">ty</a><a id="4978" class="Symbol">)</a> <a id="4980" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4982" href="Prelude.Generics.Utils.html#4674" class="Function">varsToUnknown′</a> <a id="4997" href="Prelude.Generics.Utils.html#4949" class="Bound">xs</a>

<a id="∀indices⋯"></a><a id="5001" href="Prelude.Generics.Utils.html#5001" class="Function">∀indices⋯</a> <a id="5011" class="Symbol">:</a> <a id="5013" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="5023" class="Symbol">→</a> <a id="5025" class="Symbol">(</a><a id="5026" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="5031" class="Symbol">→</a> <a id="5033" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="5037" class="Symbol">)</a>
<a id="5039" href="Prelude.Generics.Utils.html#5001" class="Function">∀indices⋯</a> <a id="5049" class="Symbol">=</a> <a id="5051" class="Symbol">λ</a> <a id="5053" class="Keyword">where</a>
  <a id="5061" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5064" class="Symbol">→</a> <a id="5066" href="Function.Base.html#624" class="Function">id</a>
  <a id="5071" class="Symbol">((</a><a id="5073" href="Prelude.Generics.Utils.html#5073" class="Bound">s</a> <a id="5075" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5077" href="Prelude.Generics.Utils.html#5077" class="Bound">i</a><a id="5078" class="Symbol">)</a> <a id="5080" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5082" href="Prelude.Generics.Utils.html#5082" class="Bound">is</a><a id="5084" class="Symbol">)</a> <a id="5086" class="Symbol">→</a> <a id="5088" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">Π[</a> <a id="5091" href="Prelude.Generics.Utils.html#5073" class="Bound">s</a> <a id="5093" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">∶</a> <a id="5095" href="Prelude.Generics.Core.html#3249" class="Function">hide</a> <a id="5100" href="Prelude.Generics.Utils.html#5077" class="Bound">i</a> <a id="5102" href="Reflection.Term.html#1852" class="InductiveConstructor Operator">]_</a> <a id="5105" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5107" href="Prelude.Generics.Utils.html#5001" class="Function">∀indices⋯</a> <a id="5117" href="Prelude.Generics.Utils.html#5082" class="Bound">is</a>

<a id="apply⋯"></a><a id="5121" href="Prelude.Generics.Utils.html#5121" class="Function">apply⋯</a> <a id="5128" class="Symbol">:</a> <a id="5130" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="5140" class="Symbol">→</a> <a id="5142" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5147" class="Symbol">→</a> <a id="5149" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
<a id="5154" href="Prelude.Generics.Utils.html#5121" class="Function">apply⋯</a> <a id="5161" href="Prelude.Generics.Utils.html#5161" class="Bound">is</a> <a id="5164" href="Prelude.Generics.Utils.html#5164" class="Bound">n</a> <a id="5166" class="Symbol">=</a> <a id="5168" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="5172" href="Prelude.Generics.Utils.html#5164" class="Bound">n</a>
            <a id="5186" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5188" href="Prelude.Generics.Core.html#3176" class="Function">remove-iArgs</a>
            <a id="5213" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5215" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5219" class="Symbol">(λ{</a> <a id="5223" class="Symbol">(</a><a id="5224" href="Prelude.Generics.Utils.html#5224" class="Bound">n</a> <a id="5226" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a>  <a id="5229" class="Symbol">_</a> <a id="5231" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5233" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="5237" href="Prelude.Generics.Utils.html#5237" class="Bound">i</a> <a id="5239" class="Symbol">_)</a> <a id="5242" class="Symbol">→</a> <a id="5244" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="5248" href="Prelude.Generics.Utils.html#5237" class="Bound">i</a> <a id="5250" class="Symbol">(</a><a id="5251" href="Prelude.Generics.Core.html#300" class="InductiveConstructor">♯</a> <a id="5253" class="Symbol">(</a><a id="5254" href="Data.List.Base.html#4873" class="Function">length</a> <a id="5261" href="Prelude.Generics.Utils.html#5161" class="Bound">is</a> <a id="5264" href="Data.Nat.Base.html#2883" class="Primitive Operator">∸</a> <a id="5266" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5270" class="Symbol">(</a><a id="5271" href="Prelude.ToN.html#139" class="Field">toℕ</a> <a id="5275" href="Prelude.Generics.Utils.html#5224" class="Bound">n</a><a id="5276" class="Symbol">)))})</a>
                  <a id="5300" class="Symbol">(</a><a id="5301" href="Prelude.Lists.Indexed.html#1518" class="Function">enumerate</a> <a id="5311" href="Prelude.Generics.Utils.html#5161" class="Bound">is</a><a id="5313" class="Symbol">)</a>

<a id="withHole"></a><a id="5316" href="Prelude.Generics.Utils.html#5316" class="Function">withHole</a> <a id="5325" class="Symbol">:</a> <a id="5327" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="5332" class="Symbol">→</a> <a id="5334" href="Prelude.Generics.Core.html#2386" class="Function">Tactic</a> <a id="5341" class="Symbol">→</a> <a id="5343" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="5346" href="Prelude.Generics.Core.html#2353" class="Function">Hole</a>
<a id="5351" href="Prelude.Generics.Utils.html#5316" class="Function">withHole</a> <a id="5360" href="Prelude.Generics.Utils.html#5360" class="Bound">ty</a> <a id="5363" href="Prelude.Generics.Utils.html#5363" class="Bound">k</a> <a id="5365" class="Symbol">=</a> <a id="5367" class="Keyword">do</a>
  <a id="5372" href="Prelude.Generics.Utils.html#5372" class="Bound">hole′</a> <a id="5378" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="5380" href="Reflection.TypeChecking.Monad.html#1221" class="Function">newMeta</a> <a id="5388" href="Prelude.Generics.Utils.html#5360" class="Bound">ty</a>
  <a id="5393" href="Prelude.Generics.Utils.html#5363" class="Bound">k</a> <a id="5395" href="Prelude.Generics.Utils.html#5372" class="Bound">hole′</a>
  <a id="5403" href="Prelude.Monad.html#569" class="Field">return</a> <a id="5410" href="Prelude.Generics.Utils.html#5372" class="Bound">hole′</a>

<a id="5417" class="Comment">-- ** records</a>
<a id="mkRecord"></a><a id="5431" href="Prelude.Generics.Utils.html#5431" class="Function">mkRecord</a> <a id="5440" class="Symbol">:</a> <a id="5442" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5447" class="Symbol">(</a><a id="5448" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5453" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5455" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="5459" class="Symbol">)</a> <a id="5461" class="Symbol">→</a> <a id="5463" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="5468" href="Prelude.Generics.Utils.html#5431" class="Function">mkRecord</a> <a id="5477" href="Prelude.Generics.Utils.html#5477" class="Bound">fs</a> <a id="5480" class="Symbol">=</a> <a id="5482" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="5490" class="Symbol">(</a><a id="5491" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5495" class="Symbol">(λ</a> <a id="5498" class="Keyword">where</a> <a id="5504" class="Symbol">(</a><a id="5505" href="Prelude.Generics.Utils.html#5505" class="Bound">fn</a> <a id="5508" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5510" href="Prelude.Generics.Utils.html#5510" class="Bound">e</a><a id="5511" class="Symbol">)</a> <a id="5513" class="Symbol">→</a> <a id="5515" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">clause</a> <a id="5522" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5525" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="5527" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="5532" class="Symbol">(</a><a id="5533" href="Agda.Builtin.Reflection.html#5654" class="InductiveConstructor">proj</a> <a id="5538" href="Prelude.Generics.Utils.html#5505" class="Bound">fn</a><a id="5540" class="Symbol">)</a> <a id="5542" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="5544" href="Prelude.Generics.Utils.html#5510" class="Bound">e</a><a id="5545" class="Symbol">)</a> <a id="5547" href="Prelude.Generics.Utils.html#5477" class="Bound">fs</a><a id="5549" class="Symbol">)</a> <a id="5551" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="updateField"></a><a id="5555" href="Prelude.Generics.Utils.html#5555" class="Function">updateField</a> <a id="5567" class="Symbol">:</a> <a id="5569" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5574" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5579" class="Symbol">→</a> <a id="5581" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5586" class="Symbol">→</a> <a id="5588" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5593" class="Symbol">→</a> <a id="5595" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5600" class="Symbol">→</a> <a id="5602" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="5607" href="Prelude.Generics.Utils.html#5555" class="Function">updateField</a> <a id="5619" href="Prelude.Generics.Utils.html#5619" class="Bound">fs</a> <a id="5622" href="Prelude.Generics.Utils.html#5622" class="Bound">rexp</a> <a id="5627" href="Prelude.Generics.Utils.html#5627" class="Bound">fn</a> <a id="5630" href="Prelude.Generics.Utils.html#5630" class="Bound">fexp</a> <a id="5635" class="Symbol">=</a>
  <a id="5639" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="5647" class="Symbol">(</a><a id="5648" href="Function.Base.html#1563" class="Function">flip</a> <a id="5653" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5657" href="Prelude.Generics.Utils.html#5619" class="Bound">fs</a> <a id="5660" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5662" class="Symbol">λ</a> <a id="5664" href="Prelude.Generics.Utils.html#5664" class="Bound">f</a> <a id="5666" class="Symbol">→</a>
    <a id="5672" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="5675" href="Prelude.Generics.Utils.html#5664" class="Bound">f</a> <a id="5677" href="Prelude.DecEq.Core.html#222" class="Function Operator">==</a> <a id="5680" href="Prelude.Generics.Utils.html#5627" class="Bound">fn</a> <a id="5683" href="Data.Bool.Base.html#1292" class="Function Operator">then</a>
      <a id="5694" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">clause</a> <a id="5701" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5704" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="5706" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="5711" class="Symbol">(</a><a id="5712" href="Agda.Builtin.Reflection.html#5654" class="InductiveConstructor">proj</a> <a id="5717" href="Prelude.Generics.Utils.html#5627" class="Bound">fn</a><a id="5719" class="Symbol">)</a> <a id="5721" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="5723" href="Prelude.Generics.Utils.html#5630" class="Bound">fexp</a>
    <a id="5732" href="Data.Bool.Base.html#1292" class="Function Operator">else</a>
      <a id="5743" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">clause</a> <a id="5750" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5753" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="5755" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="5760" class="Symbol">(</a><a id="5761" href="Agda.Builtin.Reflection.html#5654" class="InductiveConstructor">proj</a> <a id="5766" href="Prelude.Generics.Utils.html#5664" class="Bound">f</a><a id="5767" class="Symbol">)</a> <a id="5769" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="5771" class="Symbol">(</a><a id="5772" href="Prelude.Generics.Utils.html#5664" class="Bound">f</a> <a id="5774" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">∙⟦</a> <a id="5777" href="Prelude.Generics.Utils.html#5622" class="Bound">rexp</a> <a id="5782" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">⟧</a><a id="5783" class="Symbol">)</a>
    <a id="5789" class="Symbol">)</a> <a id="5791" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="5795" class="Comment">-- ** patterns</a>
<a id="5810" class="Keyword">module</a> <a id="5817" href="Prelude.Generics.Utils.html#5817" class="Module">_</a> <a id="5819" class="Symbol">(</a><a id="5820" href="Prelude.Generics.Utils.html#5820" class="Bound">toDrop</a> <a id="5827" class="Symbol">:</a> <a id="5829" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="5830" class="Symbol">)</a> <a id="5832" class="Comment">{- module context -}</a> <a id="5853" class="Keyword">where</a>
  <a id="5861" href="Prelude.Generics.Utils.html#5861" class="Function">mkPattern</a> <a id="5871" class="Symbol">:</a> <a id="5873" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5878" class="Symbol">→</a> <a id="5880" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a>
    <a id="5887" class="Symbol">(</a> <a id="5889" href="Reflection.Argument.html#1493" class="Function">Args</a> <a id="5894" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>           <a id="5909" class="Comment">-- ^ type arguments of given constructor</a>
    <a id="5954" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5956" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>                   <a id="5976" class="Comment">-- ^ # of introduced variables</a>
    <a id="6011" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6013" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="6018" class="Symbol">(</a><a id="6019" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="6021" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6023" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="6027" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="6031" class="Symbol">)</a> <a id="6033" class="Comment">-- ^ generated variables along with their type</a>
    <a id="6084" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6086" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a>             <a id="6106" class="Comment">-- ^ generated pattern for given constructor</a>
    <a id="6155" class="Symbol">)</a>
  <a id="6159" href="Prelude.Generics.Utils.html#5861" class="Function">mkPattern</a> <a id="6169" href="Prelude.Generics.Utils.html#6169" class="Bound">c</a> <a id="6171" class="Symbol">=</a> <a id="6173" class="Keyword">do</a>
    <a id="6180" href="Prelude.Generics.Utils.html#6180" class="Bound">ty</a> <a id="6183" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="6185" href="Agda.Builtin.Reflection.html#9373" class="Postulate">getType</a> <a id="6193" href="Prelude.Generics.Utils.html#6169" class="Bound">c</a>
    <a id="6199" class="Keyword">let</a> <a id="6203" href="Prelude.Generics.Utils.html#6203" class="Bound">tys</a>  <a id="6208" class="Symbol">=</a> <a id="6210" href="Data.List.Base.html#7436" class="Function">drop</a> <a id="6215" href="Prelude.Generics.Utils.html#5820" class="Bound">toDrop</a> <a id="6222" class="Symbol">(</a><a id="6223" href="Prelude.Generics.Utils.html#1522" class="Function">argTys</a> <a id="6230" href="Prelude.Generics.Utils.html#6180" class="Bound">ty</a><a id="6232" class="Symbol">)</a>
        <a id="6242" href="Prelude.Generics.Utils.html#6242" class="Bound">n</a>    <a id="6247" class="Symbol">=</a> <a id="6249" href="Data.List.Base.html#4873" class="Function">length</a> <a id="6256" href="Prelude.Generics.Utils.html#6203" class="Bound">tys</a>
        <a id="6268" href="Prelude.Generics.Utils.html#6268" class="Bound">vars</a> <a id="6273" class="Symbol">=</a> <a id="6275" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6279" class="Symbol">(</a><a id="6280" href="Prelude.Bifunctor.html#930" class="Function">map₁</a> <a id="6285" href="Prelude.ToN.html#139" class="Field">toℕ</a><a id="6288" class="Symbol">)</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Prelude.Lists.Indexed.html#1518" class="Function">enumerate</a> <a id="6301" href="Prelude.Generics.Utils.html#6203" class="Bound">tys</a><a id="6304" class="Symbol">)</a>
    <a id="6310" href="Prelude.Monad.html#569" class="Field">return</a>
      <a id="6323" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6325" href="Prelude.Generics.Utils.html#6203" class="Bound">tys</a>
      <a id="6335" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6337" href="Prelude.Generics.Utils.html#6242" class="Bound">n</a>
      <a id="6345" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6347" href="Prelude.Generics.Utils.html#6268" class="Bound">vars</a>
      <a id="6358" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6360" href="Agda.Builtin.Reflection.html#5491" class="InductiveConstructor">Pattern.con</a> <a id="6372" href="Prelude.Generics.Utils.html#6169" class="Bound">c</a> <a id="6374" class="Symbol">(</a><a id="6375" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6379" class="Symbol">(λ{</a> <a id="6383" class="Symbol">(</a><a id="6384" href="Prelude.Generics.Utils.html#6384" class="Bound">i</a> <a id="6386" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6388" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6392" href="Prelude.Generics.Utils.html#6392" class="Bound">x</a> <a id="6394" class="Symbol">_)</a> <a id="6397" class="Symbol">→</a> <a id="6399" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6403" href="Prelude.Generics.Utils.html#6392" class="Bound">x</a> <a id="6405" class="Symbol">(</a><a id="6406" href="Prelude.Generics.Core.html#429" class="InductiveConstructor Operator">`</a> <a id="6408" href="Prelude.Generics.Utils.html#6384" class="Bound">i</a><a id="6409" class="Symbol">)</a> <a id="6411" class="Symbol">})</a> <a id="6414" href="Prelude.Generics.Utils.html#6268" class="Bound">vars</a><a id="6418" class="Symbol">)</a>

<a id="fresh-level"></a><a id="6421" href="Prelude.Generics.Utils.html#6421" class="Function">fresh-level</a> <a id="6433" class="Symbol">:</a> <a id="6435" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="6438" href="Agda.Primitive.html#591" class="Postulate">Level</a>
<a id="6444" href="Prelude.Generics.Utils.html#6421" class="Function">fresh-level</a> <a id="6456" class="Symbol">=</a> <a id="6458" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="6468" href="Prelude.Monad.html#679" class="Function Operator">=&lt;&lt;</a> <a id="6472" href="Reflection.TypeChecking.Monad.html#1221" class="Function">newMeta</a> <a id="6480" class="Symbol">(</a><a id="6481" class="Keyword">quote</a> <a id="6487" href="Agda.Primitive.html#591" class="Postulate">Level</a> <a id="6493" href="Prelude.Generics.Core.html#1747" class="InductiveConstructor Operator">∙</a><a id="6494" class="Symbol">)</a>

<a id="6497" class="Comment">-- newMeta_⦅ctx=_⦆ : Type → Context → TC Term</a>
<a id="6543" class="Comment">-- newMeta ty ⦅ctx= ctx ⦆ = do</a>
<a id="6574" class="Comment">--   hole@(meta m _) ← newMeta ty</a>
<a id="6608" class="Comment">--     where _ → _IMPOSSIBLE_</a>
<a id="6638" class="Comment">--   return $ meta m ctx</a>

<a id="apply"></a><a id="6664" href="Prelude.Generics.Utils.html#6664" class="Function">apply</a> <a id="6670" class="Symbol">:</a> <a id="6672" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6677" class="Symbol">→</a> <a id="6679" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="6684" class="Symbol">→</a> <a id="6686" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="6691" class="Symbol">(</a><a id="6692" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="6696" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="6700" class="Symbol">)</a> <a id="6702" class="Symbol">→</a> <a id="6704" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="6707" class="Symbol">(</a><a id="6708" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6713" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6715" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="6719" class="Symbol">)</a>
<a id="6721" href="Prelude.Generics.Utils.html#6664" class="Function">apply</a> <a id="6727" href="Prelude.Generics.Utils.html#6727" class="Bound">A</a> <a id="6729" href="Prelude.Generics.Utils.html#6729" class="Bound">t</a> <a id="6731" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="6740" class="Symbol">=</a> <a id="6742" href="Prelude.Monad.html#569" class="Field">return</a> <a id="6749" class="Symbol">(</a><a id="6750" href="Prelude.Generics.Utils.html#6727" class="Bound">A</a> <a id="6752" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6754" href="Prelude.Generics.Utils.html#6729" class="Bound">t</a><a id="6755" class="Symbol">)</a>
<a id="6757" href="Prelude.Generics.Utils.html#6664" class="Function">apply</a> <a id="6763" href="Prelude.Generics.Utils.html#6763" class="Bound">A</a> <a id="6765" href="Prelude.Generics.Utils.html#6765" class="Bound">t</a> <a id="6767" class="Symbol">(</a><a id="6768" href="Prelude.Generics.Utils.html#6768" class="Bound">a</a> <a id="6770" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6772" href="Prelude.Generics.Utils.html#6772" class="Bound">as</a><a id="6774" class="Symbol">)</a> <a id="6776" class="Symbol">=</a> <a id="6778" class="Keyword">do</a>
  <a id="6783" href="Prelude.Generics.Utils.html#6783" class="Bound">A</a> <a id="6785" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="6787" href="Agda.Builtin.Reflection.html#8670" class="Postulate">reduce</a> <a id="6794" href="Prelude.Generics.Utils.html#6763" class="Bound">A</a>
  <a id="6798" href="Prelude.Generics.Utils.html#6798" class="Bound">A</a> <a id="6800" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6802" href="Prelude.Generics.Utils.html#6802" class="Bound">t</a> <a id="6804" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="6806" href="Prelude.Generics.Utils.html#6846" class="Function">apply₁</a> <a id="6813" href="Prelude.Generics.Utils.html#6783" class="Bound">A</a> <a id="6815" href="Prelude.Generics.Utils.html#6765" class="Bound">t</a> <a id="6817" href="Prelude.Generics.Utils.html#6768" class="Bound">a</a>
  <a id="6821" href="Prelude.Generics.Utils.html#6664" class="Function">apply</a> <a id="6827" href="Prelude.Generics.Utils.html#6798" class="Bound">A</a> <a id="6829" href="Prelude.Generics.Utils.html#6802" class="Bound">t</a> <a id="6831" href="Prelude.Generics.Utils.html#6772" class="Bound">as</a>
  <a id="6836" class="Keyword">where</a>
    <a id="6846" href="Prelude.Generics.Utils.html#6846" class="Function">apply₁</a> <a id="6853" class="Symbol">:</a> <a id="6855" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6860" class="Symbol">→</a> <a id="6862" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="6867" class="Symbol">→</a> <a id="6869" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="6873" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="6878" class="Symbol">→</a> <a id="6880" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="6883" class="Symbol">(</a><a id="6884" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6889" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="6891" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="6895" class="Symbol">)</a>
    <a id="6901" href="Prelude.Generics.Utils.html#6846" class="Function">apply₁</a> <a id="6908" class="Symbol">(</a><a id="6909" href="Agda.Builtin.Reflection.html#5103" class="InductiveConstructor">pi</a> <a id="6912" class="Symbol">(</a><a id="6913" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6917" href="Prelude.Generics.Utils.html#6917" class="Bound">i₁</a><a id="6919" class="Symbol">@(</a><a id="6921" href="Agda.Builtin.Reflection.html#3620" class="InductiveConstructor">arg-info</a> <a id="6930" href="Prelude.Generics.Utils.html#6930" class="Bound">k</a> <a id="6932" class="Symbol">_)</a> <a id="6935" href="Prelude.Generics.Utils.html#6935" class="Bound">A</a><a id="6936" class="Symbol">)</a> <a id="6938" href="Prelude.Generics.Utils.html#6938" class="Bound">B</a><a id="6939" class="Symbol">)</a> <a id="6941" href="Prelude.Generics.Utils.html#6941" class="Bound">t₁</a> <a id="6944" class="Symbol">(</a><a id="6945" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6949" href="Prelude.Generics.Utils.html#6949" class="Bound">i₂</a> <a id="6952" href="Prelude.Generics.Utils.html#6952" class="Bound">t₂</a><a id="6954" class="Symbol">)</a> <a id="6956" class="Symbol">=</a> <a id="6958" class="Keyword">do</a>
      <a id="6967" href="Prelude.Generics.Utils.html#6967" class="Bound">a</a> <a id="6969" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="6971" href="Prelude.Generics.Utils.html#6421" class="Function">fresh-level</a>
      <a id="6989" href="Prelude.Generics.Utils.html#6989" class="Bound">b</a> <a id="6991" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="6993" href="Prelude.Generics.Utils.html#6421" class="Function">fresh-level</a>
      <a id="7011" href="Prelude.Generics.Utils.html#7011" class="Bound">A</a> <a id="7013" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7015" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="7025" class="Symbol">{</a><a id="7026" class="Argument">A</a> <a id="7028" class="Symbol">=</a> <a id="7030" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="7034" href="Prelude.Generics.Utils.html#6967" class="Bound">a</a><a id="7035" class="Symbol">}</a> <a id="7037" href="Prelude.Generics.Utils.html#6935" class="Bound">A</a>
      <a id="7045" href="Prelude.Generics.Utils.html#7045" class="Bound">B</a> <a id="7047" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7049" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="7059" class="Symbol">{</a><a id="7060" class="Argument">A</a> <a id="7062" class="Symbol">=</a> <a id="7064" href="Prelude.Generics.Utils.html#7011" class="Bound">A</a> <a id="7066" class="Symbol">→</a> <a id="7068" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="7072" href="Prelude.Generics.Utils.html#6989" class="Bound">b</a><a id="7073" class="Symbol">}</a> <a id="7075" class="Symbol">(</a><a id="7076" href="Agda.Builtin.Reflection.html#4985" class="InductiveConstructor">lam</a> <a id="7080" href="Agda.Builtin.Reflection.html#2745" class="InductiveConstructor">visible</a> <a id="7088" href="Prelude.Generics.Utils.html#6938" class="Bound">B</a><a id="7089" class="Symbol">)</a>
      <a id="7097" href="Prelude.Generics.Utils.html#7097" class="Bound">t₂</a> <a id="7100" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7102" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="7112" class="Symbol">{</a><a id="7113" class="Argument">A</a> <a id="7115" class="Symbol">=</a> <a id="7117" href="Prelude.Generics.Utils.html#7011" class="Bound">A</a><a id="7118" class="Symbol">}</a> <a id="7120" href="Prelude.Generics.Utils.html#6952" class="Bound">t₂</a>
      <a id="7129" href="Prelude.Generics.Utils.html#7129" class="Bound">Bt₂</a> <a id="7133" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7135" href="Agda.Builtin.Reflection.html#8766" class="Postulate">quoteTC</a> <a id="7143" class="Symbol">(</a><a id="7144" href="Prelude.Generics.Utils.html#7045" class="Bound">B</a> <a id="7146" href="Prelude.Generics.Utils.html#7097" class="Bound">t₂</a><a id="7148" class="Symbol">)</a>
      <a id="7156" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="7161" href="Prelude.Generics.Utils.html#6930" class="Bound">k</a> <a id="7163" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="7166" class="Symbol">λ</a> <a id="7168" class="Keyword">where</a>
        <a id="7182" href="Agda.Builtin.Reflection.html#2745" class="InductiveConstructor">visible</a> <a id="7190" class="Symbol">→</a> <a id="7192" class="Keyword">do</a>
          <a id="7205" href="Prelude.Generics.Utils.html#7205" class="Bound">t₁</a> <a id="7208" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7210" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="7220" class="Symbol">{</a><a id="7221" class="Argument">A</a> <a id="7223" class="Symbol">=</a> <a id="7225" class="Symbol">∀</a> <a id="7227" class="Symbol">(</a><a id="7228" href="Prelude.Generics.Utils.html#7228" class="Bound">x</a> <a id="7230" class="Symbol">:</a> <a id="7232" href="Prelude.Generics.Utils.html#7011" class="Bound">A</a><a id="7233" class="Symbol">)</a> <a id="7235" class="Symbol">→</a> <a id="7237" href="Prelude.Generics.Utils.html#7045" class="Bound">B</a> <a id="7239" href="Prelude.Generics.Utils.html#7228" class="Bound">x</a><a id="7240" class="Symbol">}</a> <a id="7242" href="Prelude.Generics.Utils.html#6941" class="Bound">t₁</a>
          <a id="7255" href="Prelude.Generics.Utils.html#7129" class="Bound">Bt₂</a> <a id="7259" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a> <a id="7262" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7266" href="Agda.Builtin.Reflection.html#8766" class="Postulate">quoteTC</a> <a id="7274" class="Symbol">(</a><a id="7275" href="Prelude.Generics.Utils.html#7205" class="Bound">t₁</a> <a id="7278" href="Prelude.Generics.Utils.html#7097" class="Bound">t₂</a><a id="7280" class="Symbol">)</a>
        <a id="7290" href="Agda.Builtin.Reflection.html#2753" class="InductiveConstructor">hidden</a> <a id="7297" class="Symbol">→</a> <a id="7299" class="Keyword">do</a>
          <a id="7312" href="Prelude.Generics.Utils.html#7312" class="Bound">t₁</a> <a id="7315" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7317" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="7327" class="Symbol">{</a><a id="7328" class="Argument">A</a> <a id="7330" class="Symbol">=</a> <a id="7332" class="Symbol">∀</a> <a id="7334" class="Symbol">{</a><a id="7335" href="Prelude.Generics.Utils.html#7335" class="Bound">x</a> <a id="7337" class="Symbol">:</a> <a id="7339" href="Prelude.Generics.Utils.html#7011" class="Bound">A</a><a id="7340" class="Symbol">}</a> <a id="7342" class="Symbol">→</a> <a id="7344" href="Prelude.Generics.Utils.html#7045" class="Bound">B</a> <a id="7346" href="Prelude.Generics.Utils.html#7335" class="Bound">x</a><a id="7347" class="Symbol">}</a> <a id="7349" href="Prelude.Generics.Utils.html#6941" class="Bound">t₁</a>
          <a id="7362" href="Prelude.Generics.Utils.html#7129" class="Bound">Bt₂</a> <a id="7366" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a> <a id="7369" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7373" href="Agda.Builtin.Reflection.html#8766" class="Postulate">quoteTC</a> <a id="7381" class="Symbol">(</a><a id="7382" href="Prelude.Generics.Utils.html#7312" class="Bound">t₁</a> <a id="7385" class="Symbol">{</a><a id="7386" class="Argument">x</a> <a id="7388" class="Symbol">=</a> <a id="7390" href="Prelude.Generics.Utils.html#7097" class="Bound">t₂</a><a id="7392" class="Symbol">})</a>
        <a id="7403" href="Agda.Builtin.Reflection.html#2760" class="InductiveConstructor">instance′</a> <a id="7413" class="Symbol">→</a> <a id="7415" class="Keyword">do</a>
          <a id="7428" href="Prelude.Generics.Utils.html#7428" class="Bound">t₁</a> <a id="7431" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7433" href="Agda.Builtin.Reflection.html#8819" class="Postulate">unquoteTC</a> <a id="7443" class="Symbol">{</a><a id="7444" class="Argument">A</a> <a id="7446" class="Symbol">=</a> <a id="7448" class="Symbol">∀</a> <a id="7450" class="Symbol">⦃</a> <a id="7452" href="Prelude.Generics.Utils.html#7452" class="Bound">x</a> <a id="7454" class="Symbol">:</a> <a id="7456" href="Prelude.Generics.Utils.html#7011" class="Bound">A</a> <a id="7458" class="Symbol">⦄</a> <a id="7460" class="Symbol">→</a> <a id="7462" href="Prelude.Generics.Utils.html#7045" class="Bound">B</a> <a id="7464" href="Prelude.Generics.Utils.html#7452" class="Bound">x</a><a id="7465" class="Symbol">}</a> <a id="7467" href="Prelude.Generics.Utils.html#6941" class="Bound">t₁</a>
          <a id="7480" href="Prelude.Generics.Utils.html#7129" class="Bound">Bt₂</a> <a id="7484" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a> <a id="7487" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7491" href="Agda.Builtin.Reflection.html#8766" class="Postulate">quoteTC</a> <a id="7499" class="Symbol">(</a><a id="7500" href="Prelude.Generics.Utils.html#7428" class="Bound">t₁</a> <a id="7503" class="Symbol">⦃</a> <a id="7505" class="Argument">x</a> <a id="7507" class="Symbol">=</a> <a id="7509" href="Prelude.Generics.Utils.html#7097" class="Bound">t₂</a> <a id="7512" class="Symbol">⦄)</a>
    <a id="7519" href="Prelude.Generics.Utils.html#6846" class="Function">apply₁</a> <a id="7526" class="Symbol">(</a><a id="7527" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="7532" href="Prelude.Generics.Utils.html#7532" class="Bound">x</a> <a id="7534" class="Symbol">_)</a> <a id="7537" class="Symbol">_</a> <a id="7539" class="Symbol">_</a> <a id="7541" class="Symbol">=</a> <a id="7543" href="Agda.Builtin.Reflection.html#9451" class="Postulate">blockOnMeta</a> <a id="7555" href="Prelude.Generics.Utils.html#7532" class="Bound">x</a>
    <a id="7561" href="Prelude.Generics.Utils.html#6846" class="CatchallClause Function">apply₁</a><a id="7567" class="CatchallClause"> </a><a id="7568" href="Prelude.Generics.Utils.html#7568" class="CatchallClause Bound">A</a><a id="7569" class="CatchallClause">          </a><a id="7579" class="CatchallClause Symbol">_</a><a id="7580" class="CatchallClause"> </a><a id="7581" class="CatchallClause Symbol">_</a> <a id="7583" class="Symbol">=</a> <a id="7585" href="Prelude.Generics.Debug.html#530" class="Function">error</a> <a id="7591" class="String">&quot;apply: not a Π-type&quot;</a>

<a id="_-∙-_"></a><a id="7614" href="Prelude.Generics.Utils.html#7614" class="Function Operator">_-∙-_</a> <a id="7620" class="Symbol">:</a> <a id="7622" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="7627" class="Symbol">→</a> <a id="7629" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="7634" class="Symbol">→</a> <a id="7636" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="7639" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="7644" href="Prelude.Generics.Utils.html#7644" class="Bound">f</a> <a id="7646" href="Prelude.Generics.Utils.html#7614" class="Function Operator">-∙-</a> <a id="7650" href="Prelude.Generics.Utils.html#7650" class="Bound">x</a> <a id="7652" class="Symbol">=</a> <a id="7654" class="Keyword">do</a>
  <a id="7659" href="Prelude.Generics.Utils.html#7659" class="Bound">ty</a> <a id="7662" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="7664" href="Agda.Builtin.Reflection.html#8555" class="Postulate">inferType</a> <a id="7674" href="Prelude.Generics.Utils.html#7644" class="Bound">f</a>
  <a id="7678" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="7684" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7688" href="Prelude.Generics.Utils.html#6664" class="Function">apply</a> <a id="7694" href="Prelude.Generics.Utils.html#7659" class="Bound">ty</a> <a id="7697" href="Prelude.Generics.Utils.html#7644" class="Bound">f</a> <a id="7699" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="7701" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="7706" href="Prelude.Generics.Utils.html#7650" class="Bound">x</a> <a id="7708" href="Data.List.Base.html#5034" class="Function Operator">]</a>
<a id="7710" class="Comment">{-
_-∙-_ : Term → Term → TC Term
f -∙- x = case f of λ where
  (var x as) → return $ var x (as ∷v)
  (con c as) → return $ con c (as ∷v)
  (def f as) → return $ def f (as ∷v)
  (meta x as) → return $ meta x (as ∷v)
  (lam visible (abs _ t)) → go t
  _ → error $ &quot;cannot apply terms &quot; ◇ show f ◇ &quot; -∙- &quot; ◇ show x
   where
     _∷v = _∷ʳ vArg x
     go = λ where
       (var x′ as) → return $ var x (as ∷v)
       (con c as) → return $ con c (as ∷v)
       (def f as) → return $ def f (as ∷v)
       (meta x as) → return $ meta x (as ∷v)
       (lam visible (abs x t)) → go t
-}</a>

<a id="_-∗-_"></a><a id="8288" href="Prelude.Generics.Utils.html#8288" class="Function Operator">_-∗-_</a> <a id="8294" class="Symbol">:</a> <a id="8296" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="8301" class="Symbol">→</a> <a id="8303" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="8308" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="8313" class="Symbol">→</a> <a id="8315" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="8318" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="8323" href="Prelude.Generics.Utils.html#8323" class="Bound">f</a> <a id="8325" href="Prelude.Generics.Utils.html#8288" class="Function Operator">-∗-</a> <a id="8329" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="8338" class="Symbol">=</a> <a id="8340" href="Prelude.Monad.html#569" class="Field">return</a> <a id="8347" href="Prelude.Generics.Utils.html#8323" class="Bound">f</a>
<a id="8349" href="Prelude.Generics.Utils.html#8349" class="Bound">f</a> <a id="8351" href="Prelude.Generics.Utils.html#8288" class="Function Operator">-∗-</a> <a id="8355" class="Symbol">(</a><a id="8356" href="Prelude.Generics.Utils.html#8356" class="Bound">x</a> <a id="8358" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8360" href="Prelude.Generics.Utils.html#8360" class="Bound">xs</a><a id="8362" class="Symbol">)</a> <a id="8364" class="Symbol">=</a> <a id="8366" href="Prelude.Generics.Utils.html#8349" class="Bound">f</a> <a id="8368" href="Prelude.Generics.Utils.html#7614" class="Function Operator">-∙-</a> <a id="8372" href="Prelude.Generics.Utils.html#8356" class="Bound">x</a> <a id="8374" href="Prelude.Monad.html#590" class="Field Operator">&gt;&gt;=</a> <a id="8378" href="Prelude.Generics.Utils.html#8288" class="Function Operator">_-∗-</a> <a id="8383" href="Prelude.Generics.Utils.html#8360" class="Bound">xs</a>

<a id="8387" class="Keyword">private</a>
  <a id="8397" class="Keyword">macro</a>
    <a id="test"></a><a id="8407" href="Prelude.Generics.Utils.html#8407" class="Function">test</a> <a id="8412" class="Symbol">:</a> <a id="8414" href="Prelude.Generics.Core.html#2353" class="Function">Hole</a> <a id="8419" class="Symbol">→</a> <a id="8421" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="8424" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="8430" href="Prelude.Generics.Utils.html#8407" class="Function">test</a> <a id="8435" href="Prelude.Generics.Utils.html#8435" class="Bound">hole</a> <a id="8440" class="Symbol">=</a> <a id="8442" href="Agda.Builtin.Reflection.html#8452" class="Postulate">unify</a> <a id="8448" href="Prelude.Generics.Utils.html#8435" class="Bound">hole</a> <a id="8453" href="Prelude.Monad.html#679" class="Function Operator">=&lt;&lt;</a>
      <a id="8463" class="Symbol">(</a><a id="8464" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="8470" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="8474" href="Prelude.Generics.Utils.html#6664" class="Function">apply</a> <a id="8480" class="Symbol">(</a><a id="8481" class="Keyword">quoteTerm</a> <a id="8491" class="Symbol">(</a><a id="8492" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="8494" class="Symbol">→</a> <a id="8496" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="8497" class="Symbol">))</a> <a id="8500" class="Symbol">(</a><a id="8501" class="Keyword">quoteTerm</a> <a id="8511" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="8514" class="Symbol">)</a> <a id="8516" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="8518" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="8523" class="Symbol">(</a><a id="8524" class="Keyword">quoteTerm</a> <a id="8534" class="Number">5</a><a id="8535" class="Symbol">)</a> <a id="8537" href="Data.List.Base.html#5034" class="Function Operator">]</a><a id="8538" class="Symbol">)</a>

  <a id="8543" href="Prelude.Generics.Utils.html#8543" class="Function">_</a> <a id="8545" class="Symbol">:</a> <a id="8547" href="Prelude.Generics.Utils.html#8407" class="Macro">test</a> <a id="8552" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8554" class="Number">6</a>
  <a id="8558" class="Symbol">_</a> <a id="8560" class="Symbol">=</a> <a id="8562" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>


<a id="instantiate"></a><a id="8569" href="Prelude.Generics.Utils.html#8569" class="Function">instantiate</a> <a id="8581" class="Symbol">:</a> <a id="8583" href="Prelude.Generics.Core.html#2353" class="Function">Hole</a> <a id="8588" class="Symbol">→</a> <a id="8590" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="8593" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
<a id="8598" class="Comment">-- instantiate  = reduce &gt;=&gt; onlyReducecDefs [] -- T0D0 added on v2.6.2</a>
<a id="8670" href="Prelude.Generics.Utils.html#8569" class="Function">instantiate</a> <a id="8682" class="Symbol">=</a> <a id="8684" href="Agda.Builtin.Reflection.html#8670" class="Postulate">reduce</a> <a id="8691" href="Prelude.Monad.html#775" class="Function Operator">&gt;=&gt;</a> <a id="8695" href="Agda.Builtin.Reflection.html#8634" class="Postulate">normalise</a>

<a id="8706" class="Keyword">module</a> <a id="8713" href="Prelude.Generics.Utils.html#8713" class="Module">_</a> <a id="8715" class="Keyword">where</a> <a id="8721" class="Comment">-- ** unification</a>
  <a id="8741" class="Keyword">open</a> <a id="8746" href="Prelude.Generics.Debug.html#648" class="Module">Debug</a> <a id="8752" class="Symbol">(</a><a id="8753" class="String">&quot;Generics.unifyStrict&quot;</a><a id="8775" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8777" class="Number">100</a><a id="8780" class="Symbol">)</a>

  <a id="8785" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="8799" class="Symbol">:</a> <a id="8801" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="8806" class="Symbol">→</a> <a id="8808" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="8811" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="8815" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="8829" class="Symbol">=</a> <a id="8831" class="Symbol">λ</a> <a id="8833" class="Keyword">where</a>
    <a id="8843" class="Symbol">(</a><a id="8844" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="8848" href="Prelude.Generics.Utils.html#8848" class="Bound">x</a> <a id="8850" href="Prelude.Generics.Utils.html#8850" class="Bound">args</a><a id="8854" class="Symbol">)</a> <a id="8856" class="Symbol">→</a> <a id="8858" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="8869" href="Prelude.Generics.Utils.html#8850" class="Bound">args</a>
    <a id="8878" class="Symbol">(</a><a id="8879" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="8883" href="Prelude.Generics.Utils.html#8883" class="Bound">c</a> <a id="8885" href="Prelude.Generics.Utils.html#8885" class="Bound">args</a><a id="8889" class="Symbol">)</a> <a id="8891" class="Symbol">→</a> <a id="8893" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="8904" href="Prelude.Generics.Utils.html#8885" class="Bound">args</a>
    <a id="8913" class="Symbol">(</a><a id="8914" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="8918" href="Prelude.Generics.Utils.html#8918" class="Bound">f</a> <a id="8920" href="Prelude.Generics.Utils.html#8920" class="Bound">args</a><a id="8924" class="Symbol">)</a> <a id="8926" class="Symbol">→</a> <a id="8928" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="8939" href="Prelude.Generics.Utils.html#8920" class="Bound">args</a>
    <a id="8948" class="Symbol">(</a><a id="8949" href="Agda.Builtin.Reflection.html#4985" class="InductiveConstructor">lam</a> <a id="8953" href="Prelude.Generics.Utils.html#8953" class="Bound">v</a> <a id="8955" class="Symbol">(</a><a id="8956" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="8960" class="Symbol">_</a> <a id="8962" href="Prelude.Generics.Utils.html#8962" class="Bound">t</a><a id="8963" class="Symbol">))</a> <a id="8966" class="Symbol">→</a> <a id="8968" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="8982" href="Prelude.Generics.Utils.html#8962" class="Bound">t</a>
    <a id="8988" class="Symbol">(</a><a id="8989" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="8997" href="Prelude.Generics.Utils.html#8997" class="Bound">cs</a> <a id="9000" href="Prelude.Generics.Utils.html#9000" class="Bound">args</a><a id="9004" class="Symbol">)</a> <a id="9006" class="Symbol">→</a> <a id="9008" href="Prelude.Generics.Utils.html#9596" class="Function">noMetaClauses</a> <a id="9022" href="Prelude.Generics.Utils.html#8997" class="Bound">cs</a> <a id="9025" href="Prelude.Applicative.html#688" class="Function Operator">*&gt;</a> <a id="9028" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="9039" href="Prelude.Generics.Utils.html#9000" class="Bound">args</a>
    <a id="9048" class="Symbol">(</a><a id="9049" href="Agda.Builtin.Reflection.html#5103" class="InductiveConstructor">pi</a> <a id="9052" href="Prelude.Generics.Utils.html#9052" class="Bound">a</a> <a id="9054" href="Prelude.Generics.Utils.html#9054" class="Bound">b</a><a id="9055" class="Symbol">)</a> <a id="9057" class="Symbol">→</a> <a id="9059" href="Prelude.Generics.Utils.html#9250" class="Function">noMetaArg</a> <a id="9069" href="Prelude.Generics.Utils.html#9052" class="Bound">a</a> <a id="9071" href="Prelude.Applicative.html#688" class="Function Operator">*&gt;</a> <a id="9074" href="Prelude.Generics.Utils.html#9736" class="Function">noMetaAbs</a> <a id="9084" href="Prelude.Generics.Utils.html#9054" class="Bound">b</a>
    <a id="9090" class="Symbol">(</a><a id="9091" href="Reflection.Term.html#1405" class="InductiveConstructor">agda-sort</a> <a id="9101" href="Prelude.Generics.Utils.html#9101" class="Bound">s</a><a id="9102" class="Symbol">)</a> <a id="9104" class="Symbol">→</a> <a id="9106" href="Prelude.Generics.Utils.html#9815" class="Function">noMetaSort</a> <a id="9117" href="Prelude.Generics.Utils.html#9101" class="Bound">s</a>
    <a id="9123" class="Symbol">(</a><a id="9124" href="Agda.Builtin.Reflection.html#5186" class="InductiveConstructor">lit</a> <a id="9128" href="Prelude.Generics.Utils.html#9128" class="Bound">l</a><a id="9129" class="Symbol">)</a> <a id="9131" class="Symbol">→</a> <a id="9133" href="Prelude.Applicative.html#568" class="Field">pure</a> <a id="9138" class="Symbol">_</a>
    <a id="9144" class="Comment">-- (meta x _) → errorP &quot;meta found!&quot;</a>
    <a id="9185" class="Symbol">(</a><a id="9186" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="9191" href="Prelude.Generics.Utils.html#9191" class="Bound">x</a> <a id="9193" class="Symbol">_)</a> <a id="9196" class="Symbol">→</a> <a id="9198" href="Agda.Builtin.Reflection.html#9451" class="Postulate">blockOnMeta</a> <a id="9210" href="Prelude.Generics.Utils.html#9191" class="Bound">x</a>
    <a id="9216" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a> <a id="9224" class="Symbol">→</a> <a id="9226" href="Prelude.Applicative.html#568" class="Field">pure</a> <a id="9231" class="Symbol">_</a>
     <a id="9238" class="Keyword">where</a>
      <a id="9250" href="Prelude.Generics.Utils.html#9250" class="Function">noMetaArg</a> <a id="9260" class="Symbol">:</a> <a id="9262" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="9266" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="9271" class="Symbol">→</a> <a id="9273" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="9276" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="9284" href="Prelude.Generics.Utils.html#9250" class="Function">noMetaArg</a> <a id="9294" class="Symbol">(</a><a id="9295" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="9299" class="Symbol">_</a> <a id="9301" href="Prelude.Generics.Utils.html#9301" class="Bound">v</a><a id="9302" class="Symbol">)</a> <a id="9304" class="Symbol">=</a> <a id="9306" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="9320" href="Prelude.Generics.Utils.html#9301" class="Bound">v</a>

      <a id="9329" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="9340" class="Symbol">:</a> <a id="9342" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9347" class="Symbol">(</a><a id="9348" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="9352" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="9356" class="Symbol">)</a> <a id="9358" class="Symbol">→</a> <a id="9360" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="9363" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="9371" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="9382" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="9385" class="Symbol">=</a> <a id="9387" href="Prelude.Applicative.html#568" class="Field">pure</a> <a id="9392" class="Symbol">_</a>
      <a id="9400" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="9411" class="Symbol">(</a><a id="9412" href="Prelude.Generics.Utils.html#9412" class="Bound">v</a> <a id="9414" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9416" href="Prelude.Generics.Utils.html#9416" class="Bound">vs</a><a id="9418" class="Symbol">)</a> <a id="9420" class="Symbol">=</a> <a id="9422" href="Prelude.Generics.Utils.html#9250" class="Function">noMetaArg</a> <a id="9432" href="Prelude.Generics.Utils.html#9412" class="Bound">v</a> <a id="9434" href="Prelude.Applicative.html#688" class="Function Operator">*&gt;</a> <a id="9437" href="Prelude.Generics.Utils.html#9329" class="Function">noMetaArgs</a> <a id="9448" href="Prelude.Generics.Utils.html#9416" class="Bound">vs</a>

      <a id="9458" href="Prelude.Generics.Utils.html#9458" class="Function">noMetaClause</a> <a id="9471" class="Symbol">:</a> <a id="9473" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="9480" class="Symbol">→</a> <a id="9482" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="9485" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="9493" href="Prelude.Generics.Utils.html#9458" class="Function">noMetaClause</a> <a id="9506" class="Symbol">(</a><a id="9507" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">clause</a> <a id="9514" class="Symbol">_</a> <a id="9516" href="Prelude.Generics.Utils.html#9516" class="Bound">ps</a> <a id="9519" href="Prelude.Generics.Utils.html#9519" class="Bound">t</a><a id="9520" class="Symbol">)</a> <a id="9522" class="Symbol">=</a> <a id="9524" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="9538" href="Prelude.Generics.Utils.html#9519" class="Bound">t</a>
      <a id="9546" href="Prelude.Generics.Utils.html#9458" class="Function">noMetaClause</a> <a id="9559" class="Symbol">(</a><a id="9560" href="Agda.Builtin.Reflection.html#5865" class="InductiveConstructor">absurd-clause</a> <a id="9574" class="Symbol">_</a> <a id="9576" href="Prelude.Generics.Utils.html#9576" class="Bound">ps</a><a id="9578" class="Symbol">)</a> <a id="9580" class="Symbol">=</a> <a id="9582" href="Prelude.Applicative.html#568" class="Field">pure</a> <a id="9587" class="Symbol">_</a>

      <a id="9596" href="Prelude.Generics.Utils.html#9596" class="Function">noMetaClauses</a> <a id="9610" class="Symbol">:</a> <a id="9612" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9617" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="9624" class="Symbol">→</a> <a id="9626" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="9629" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="9637" href="Prelude.Generics.Utils.html#9596" class="Function">noMetaClauses</a> <a id="9651" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="9654" class="Symbol">=</a> <a id="9656" href="Prelude.Applicative.html#568" class="Field">pure</a> <a id="9661" class="Symbol">_</a>
      <a id="9669" href="Prelude.Generics.Utils.html#9596" class="Function">noMetaClauses</a> <a id="9683" class="Symbol">(</a><a id="9684" href="Prelude.Generics.Utils.html#9684" class="Bound">c</a> <a id="9686" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9688" href="Prelude.Generics.Utils.html#9688" class="Bound">cs</a><a id="9690" class="Symbol">)</a> <a id="9692" class="Symbol">=</a> <a id="9694" href="Prelude.Generics.Utils.html#9458" class="Function">noMetaClause</a> <a id="9707" href="Prelude.Generics.Utils.html#9684" class="Bound">c</a> <a id="9709" href="Prelude.Applicative.html#688" class="Function Operator">*&gt;</a> <a id="9712" href="Prelude.Generics.Utils.html#9596" class="Function">noMetaClauses</a> <a id="9726" href="Prelude.Generics.Utils.html#9688" class="Bound">cs</a>

      <a id="9736" href="Prelude.Generics.Utils.html#9736" class="Function">noMetaAbs</a> <a id="9746" class="Symbol">:</a> <a id="9748" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="9752" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="9757" class="Symbol">→</a> <a id="9759" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="9762" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="9770" href="Prelude.Generics.Utils.html#9736" class="Function">noMetaAbs</a> <a id="9780" class="Symbol">(</a><a id="9781" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="9785" class="Symbol">_</a> <a id="9787" href="Prelude.Generics.Utils.html#9787" class="Bound">v</a><a id="9788" class="Symbol">)</a> <a id="9790" class="Symbol">=</a> <a id="9792" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="9806" href="Prelude.Generics.Utils.html#9787" class="Bound">v</a>

      <a id="9815" href="Prelude.Generics.Utils.html#9815" class="Function">noMetaSort</a> <a id="9826" class="Symbol">:</a> <a id="9828" href="Agda.Builtin.Reflection.html#4689" class="Datatype">Sort</a> <a id="9833" class="Symbol">→</a> <a id="9835" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="9838" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="9846" href="Prelude.Generics.Utils.html#9815" class="Function">noMetaSort</a> <a id="9857" class="Symbol">(</a><a id="9858" href="Agda.Builtin.Reflection.html#5307" class="InductiveConstructor">set</a> <a id="9862" href="Prelude.Generics.Utils.html#9862" class="Bound">t</a><a id="9863" class="Symbol">)</a> <a id="9865" class="Symbol">=</a> <a id="9867" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="9881" href="Prelude.Generics.Utils.html#9862" class="Bound">t</a>
      <a id="9889" href="Prelude.Generics.Utils.html#9815" class="CatchallClause Function">noMetaSort</a><a id="9899" class="CatchallClause"> </a><a id="9900" class="CatchallClause Symbol">_</a>       <a id="9908" class="Symbol">=</a> <a id="9910" href="Prelude.Applicative.html#568" class="Field">pure</a> <a id="9915" class="Symbol">_</a>

  <a id="9920" class="Comment">{-
  {-# TERMINATING #-}
  isSolved : Hole → Bool
  isSolved = λ where
    (meta _ _) → false
    unknown    → false
    (var _ xs) → all isSolved (unArgs xs)
    (con _ xs) → all isSolved (unArgs xs)
    (def _ xs) → all isSolved (unArgs xs)
    (lam _ (abs _ t)) → isSolved t
    (pat-lam cs xs) → all isSolved (unArgs xs)
    (pi (arg _ t) (abs _ t′)) → isSolved t ∧ isSolved t′
    _ → true
  -}</a>

  <a id="10323" class="Keyword">module</a> <a id="10330" href="Prelude.Generics.Utils.html#10330" class="Module">NewMeta</a> <a id="10338" class="Keyword">where</a>
    <a id="10348" href="Prelude.Generics.Utils.html#10348" class="Function">unifyStrict</a> <a id="10360" class="Symbol">:</a> <a id="10362" href="Prelude.Generics.Core.html#2366" class="Function">THole</a> <a id="10368" class="Symbol">→</a> <a id="10370" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10375" class="Symbol">→</a> <a id="10377" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="10380" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="10386" href="Prelude.Generics.Utils.html#10348" class="Function">unifyStrict</a> <a id="10398" class="Symbol">(</a><a id="10399" href="Prelude.Generics.Utils.html#10399" class="Bound">hole</a> <a id="10404" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10406" href="Prelude.Generics.Utils.html#10406" class="Bound">ty</a><a id="10408" class="Symbol">)</a> <a id="10410" href="Prelude.Generics.Utils.html#10410" class="Bound">x</a> <a id="10412" class="Symbol">=</a> <a id="10414" class="Keyword">do</a>
      <a id="10423" href="Prelude.Generics.Debug.html#774" class="Function">printLn</a> <a id="10431" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10433" href="Prelude.Show.html#351" class="Field">show</a> <a id="10438" href="Prelude.Generics.Utils.html#10399" class="Bound">hole</a> <a id="10443" href="Prelude.Semigroup.html#251" class="Field Operator">◇</a> <a id="10445" class="String">&quot; :=? &quot;</a> <a id="10453" href="Prelude.Semigroup.html#251" class="Field Operator">◇</a> <a id="10455" href="Prelude.Show.html#351" class="Field">show</a> <a id="10460" href="Prelude.Generics.Utils.html#10410" class="Bound">x</a>
      <a id="10468" href="Prelude.Generics.Utils.html#10468" class="Bound">m</a> <a id="10470" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="10472" href="Reflection.TypeChecking.Monad.html#1221" class="Function">newMeta</a> <a id="10480" href="Prelude.Generics.Utils.html#10406" class="Bound">ty</a>
      <a id="10489" href="Agda.Builtin.Reflection.html#10585" class="Postulate">noConstraints</a> <a id="10503" href="Function.Base.html#1928" class="Function Operator">$</a>
        <a id="10513" href="Agda.Builtin.Reflection.html#8452" class="Postulate">unify</a> <a id="10519" href="Prelude.Generics.Utils.html#10468" class="Bound">m</a> <a id="10521" href="Prelude.Generics.Utils.html#10410" class="Bound">x</a> <a id="10523" href="Prelude.Monad.html#624" class="Function Operator">&gt;&gt;</a> <a id="10526" href="Agda.Builtin.Reflection.html#8452" class="Postulate">unify</a> <a id="10532" href="Prelude.Generics.Utils.html#10399" class="Bound">hole</a> <a id="10537" href="Prelude.Generics.Utils.html#10468" class="Bound">m</a>
      <a id="10545" href="Prelude.Generics.Debug.html#774" class="Function">printLn</a> <a id="10553" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10555" href="Prelude.Show.html#351" class="Field">show</a> <a id="10560" href="Prelude.Generics.Utils.html#10399" class="Bound">hole</a> <a id="10565" href="Prelude.Semigroup.html#251" class="Field Operator">◇</a> <a id="10567" class="String">&quot; := &quot;</a> <a id="10574" href="Prelude.Semigroup.html#251" class="Field Operator">◇</a> <a id="10576" href="Prelude.Show.html#351" class="Field">show</a> <a id="10581" href="Prelude.Generics.Utils.html#10410" class="Bound">x</a>

  <a id="10586" class="Keyword">module</a> <a id="10593" href="Prelude.Generics.Utils.html#10593" class="Module">NoMeta</a> <a id="10600" class="Keyword">where</a>
    <a id="10610" href="Prelude.Generics.Utils.html#10610" class="Function">unifyStrict</a> <a id="10622" class="Symbol">:</a> <a id="10624" href="Prelude.Generics.Core.html#2366" class="Function">THole</a> <a id="10630" class="Symbol">→</a> <a id="10632" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10637" class="Symbol">→</a> <a id="10639" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="10642" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="10648" href="Prelude.Generics.Utils.html#10610" class="Function">unifyStrict</a> <a id="10660" class="Symbol">(</a><a id="10661" href="Prelude.Generics.Utils.html#10661" class="Bound">hole</a> <a id="10666" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10668" href="Prelude.Generics.Utils.html#10668" class="Bound">ty</a><a id="10670" class="Symbol">)</a> <a id="10672" href="Prelude.Generics.Utils.html#10672" class="Bound">x</a> <a id="10674" class="Symbol">=</a> <a id="10676" class="Keyword">do</a>
      <a id="10685" class="Comment">-- unify hole x</a>
      <a id="10707" class="Comment">-- instantiate hole &gt;&gt;= ensureNoMetas</a>

      <a id="10752" href="Prelude.Generics.Debug.html#768" class="Function">print</a> <a id="10758" class="String">&quot;———————————————————————————————————————&quot;</a>
      <a id="10806" href="Prelude.Generics.Debug.html#1254" class="Function">printTerm</a> <a id="10816" class="String">&quot;x&quot;</a> <a id="10820" href="Prelude.Generics.Utils.html#10672" class="Bound">x</a>
      <a id="10828" href="Agda.Builtin.Reflection.html#8452" class="Postulate">unify</a> <a id="10834" href="Prelude.Generics.Utils.html#10661" class="Bound">hole</a> <a id="10839" href="Prelude.Generics.Utils.html#10672" class="Bound">x</a>
      <a id="10847" href="Prelude.Generics.Utils.html#10847" class="Bound">hole</a> <a id="10852" href="Prelude.Monad.html#590" class="Field Operator">←</a> <a id="10854" href="Agda.Builtin.Reflection.html#8634" class="Postulate">normalise</a> <a id="10864" href="Prelude.Generics.Utils.html#10661" class="Bound">hole</a>
      <a id="10875" href="Prelude.Generics.Debug.html#1254" class="Function">printTerm</a> <a id="10885" class="String">&quot;hole′&quot;</a> <a id="10893" href="Prelude.Generics.Utils.html#10847" class="Bound">hole</a>
      <a id="10904" class="Comment">-- (x ∷ hole ∷ []) ← mapM instantiate (x ∷ hole ∷ [])</a>
      <a id="10964" class="Comment">--   where _ → _IMPOSSIBLE_</a>
      <a id="10998" class="Comment">-- printTerm &quot;x′&quot; x</a>
      <a id="11024" href="Prelude.Generics.Utils.html#8785" class="Function">ensureNoMetas</a> <a id="11038" href="Prelude.Generics.Utils.html#10847" class="Bound">hole</a>
      <a id="11049" href="Prelude.Generics.Debug.html#774" class="Function">printLn</a> <a id="11057" class="String">&quot;No metas found :)&quot;</a>

  <a id="11080" class="Keyword">open</a> <a id="11085" href="Prelude.Generics.Utils.html#10330" class="Module">NewMeta</a> <a id="11093" class="Keyword">public</a>
  <a id="11102" class="Comment">-- open NoMeta public</a>

  <a id="11127" href="Prelude.Generics.Utils.html#11127" class="Function">unifyStricts</a> <a id="11140" class="Symbol">:</a> <a id="11142" href="Prelude.Generics.Core.html#2366" class="Function">THole</a> <a id="11148" class="Symbol">→</a> <a id="11150" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="11155" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="11160" class="Symbol">→</a> <a id="11162" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="11165" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="11169" href="Prelude.Generics.Utils.html#11127" class="Function">unifyStricts</a> <a id="11182" href="Prelude.Generics.Utils.html#11182" class="Bound">ht</a> <a id="11185" class="Symbol">=</a> <a id="11187" href="Data.List.NonEmpty.Base.html#2782" class="Function">L.NE.foldl₁</a> <a id="11199" href="Prelude.Applicative.html#2951" class="Field Operator">_&lt;|&gt;_</a>
                  <a id="11223" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="11225" class="Symbol">(</a><a id="11226" href="Data.List.NonEmpty.Base.html#4344" class="Function Operator">L.NE._∷ʳ</a> <a id="11235" href="Prelude.Generics.Debug.html#530" class="Function">error</a> <a id="11241" class="String">&quot;∅&quot;</a><a id="11244" class="Symbol">)</a>
                  <a id="11264" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="11266" href="Prelude.Functor.html#412" class="Function">fmap</a> <a id="11271" class="Symbol">(</a><a id="11272" class="Comment">{-noConstraints ∘ -}</a><a id="11292" href="Prelude.Generics.Utils.html#10348" class="Function">unifyStrict</a> <a id="11304" href="Prelude.Generics.Utils.html#11182" class="Bound">ht</a><a id="11306" class="Symbol">)</a>

<a id="11309" class="Comment">-----------------------------------------------------------------------</a>


<a id="11383" class="Comment">{- experiment to allow subst syntax ⟪ x + ◆ ⟫ x≡ ~: ...
private
  open Debug (&quot;rewrite&quot; , 10)

  {-# TERMINATING #-}
  rewrite◆ : Term → TC Term
  rewrite◆ t = do
    let t′ = go 0 t
    print $ show t ◇ &quot; ———→ &quot; ◇ show t′
    return t′
    where
      go : ℕ → Term → Term
      go λs (lam v e) = lam v $ fmap (go (suc λs)) e
      go λs (def n xs) = def n $ map (fmap $ go λs) xs
      go λs (var n xs) = var n $ map (fmap $ go λs) xs
      go λs (meta m xs) = meta m $ map (fmap $ go λs) xs
      go λs (pi a b) = pi (fmap (go λs) a) (fmap (go λs) b)
      -- go λs (var n xs) =
      --   if n Nat.≡ᵇ 666 then
      --     ♯ λs
      --   else
      --     var n (map (fmap $ go λs) xs)
      go λs e@(lit (char c)) =
        if c Ch.== &#39;◆&#39; then
          ♯ λs
        else
          e
      -- go λs (lit (char &#39;◆&#39;)) = ♯ λs
      go _ e = e

  macro
    λ◆ : Term → Term → TC ⊤
    λ◆ t hole = do
      t′ ← normalise t
      t″ ← rewrite◆ t′
      return tt
      -- unify hole (`λ &quot;◆&quot; ⇒ t′)

  import Reflection.Literal as Lit

  ∣◆∣ : Term
  -- ∣◆∣ = ♯ 666
  ∣◆∣ = Meta.lit (Lit.char &#39;◆&#39;)

  f : ℕ → ℕ
  -- f = λ ◆ → ◆ + 1
  f = λ◆ (quote _+_ ∙⟦ ∣◆∣ ∣ Meta.lit (Lit.nat 1) ⟧)
-}</a>
</pre></body></html>