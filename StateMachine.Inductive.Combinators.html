<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>StateMachine.Inductive.Combinators</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-utxo/tree/master/StateMachine/Inductive/Combinators.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="UTxO.Hashing.html" class="Module">UTxO.Hashing</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="UTxO.Value.html" class="Module">UTxO.Value</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="UTxO.Types.html" class="Module">UTxO.Types</a>

<a id="99" class="Keyword">open</a> <a id="104" class="Keyword">import</a> <a id="111" href="StateMachine.Base.html" class="Module">StateMachine.Base</a>

<a id="130" class="Keyword">module</a> <a id="137" href="StateMachine.Inductive.Combinators.html" class="Module">StateMachine.Inductive.Combinators</a>
  <a id="174" class="Symbol">{</a><a id="175" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="177" href="StateMachine.Inductive.Combinators.html#177" class="Bound">I</a> <a id="179" class="Symbol">:</a> <a id="181" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="184" class="Symbol">}</a> <a id="186" class="Symbol">{{</a><a id="188" href="StateMachine.Inductive.Combinators.html#188" class="Bound">_</a> <a id="190" class="Symbol">:</a> <a id="192" href="UTxO.Types.html#1155" class="Record">IsData</a> <a id="199" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a><a id="200" class="Symbol">}}</a> <a id="203" class="Symbol">{{</a><a id="205" href="StateMachine.Inductive.Combinators.html#205" class="Bound">_</a> <a id="207" class="Symbol">:</a> <a id="209" href="UTxO.Types.html#1155" class="Record">IsData</a> <a id="216" href="StateMachine.Inductive.Combinators.html#177" class="Bound">I</a><a id="217" class="Symbol">}}</a> <a id="220" class="Symbol">{</a><a id="221" href="StateMachine.Inductive.Combinators.html#221" class="Bound">sm</a> <a id="224" class="Symbol">:</a> <a id="226" href="StateMachine.Base.html#1973" class="Record">StateMachine</a> <a id="239" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="241" href="StateMachine.Inductive.Combinators.html#177" class="Bound">I</a><a id="242" class="Symbol">}</a>
  <a id="246" class="Keyword">where</a>

<a id="253" class="Keyword">open</a> <a id="258" href="StateMachine.Base.html#2219" class="Module">CEM</a> <a id="262" class="Symbol">{</a><a id="263" class="Argument">sm</a> <a id="266" class="Symbol">=</a> <a id="268" href="StateMachine.Inductive.Combinators.html#221" class="Bound">sm</a><a id="270" class="Symbol">}</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="StateMachine.Inductive.Core.html" class="Module">StateMachine.Inductive.Core</a> <a id="312" class="Symbol">{</a><a id="313" class="Argument">sm</a> <a id="316" class="Symbol">=</a> <a id="318" href="StateMachine.Inductive.Combinators.html#221" class="Bound">sm</a><a id="320" class="Symbol">}</a>

<a id="323" class="Comment">-- *** All ***</a>

<a id="339" class="Comment">-- the predicate P holds for all states in the run</a>
<a id="390" class="Keyword">data</a> <a id="AllS"></a><a id="395" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="400" class="Symbol">(</a><a id="401" href="StateMachine.Inductive.Combinators.html#401" class="Bound">P</a> <a id="403" class="Symbol">:</a> <a id="405" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="407" class="Symbol">→</a> <a id="409" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="412" class="Symbol">)</a> <a id="414" class="Symbol">:</a> <a id="416" class="Symbol">∀{</a><a id="418" href="StateMachine.Inductive.Combinators.html#418" class="Bound">s</a> <a id="420" href="StateMachine.Inductive.Combinators.html#420" class="Bound">s&#39;</a><a id="422" class="Symbol">}</a> <a id="424" class="Symbol">→</a> <a id="426" href="StateMachine.Inductive.Combinators.html#418" class="Bound">s</a> <a id="428" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="431" href="StateMachine.Inductive.Combinators.html#420" class="Bound">s&#39;</a> <a id="434" class="Symbol">→</a> <a id="436" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="440" class="Keyword">where</a>
  <a id="AllS.root"></a><a id="448" href="StateMachine.Inductive.Combinators.html#448" class="InductiveConstructor">root</a> <a id="453" class="Symbol">:</a> <a id="455" class="Symbol">∀</a> <a id="457" class="Symbol">{</a><a id="458" href="StateMachine.Inductive.Combinators.html#458" class="Bound">s</a><a id="459" class="Symbol">}</a> <a id="461" class="Symbol">(</a><a id="462" href="StateMachine.Inductive.Combinators.html#462" class="Bound">p</a> <a id="464" class="Symbol">:</a> <a id="466" href="StateMachine.Base.html#2377" class="Function">Init</a> <a id="471" href="StateMachine.Inductive.Combinators.html#458" class="Bound">s</a><a id="472" class="Symbol">)</a>
    <a id="478" class="Symbol">→</a> <a id="480" href="StateMachine.Inductive.Combinators.html#401" class="Bound">P</a> <a id="482" href="StateMachine.Inductive.Combinators.html#458" class="Bound">s</a>
    <a id="488" class="Symbol">→</a> <a id="490" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="495" href="StateMachine.Inductive.Combinators.html#401" class="Bound">P</a> <a id="497" class="Symbol">(</a><a id="498" href="StateMachine.Inductive.Core.html#617" class="InductiveConstructor">root</a> <a id="503" href="StateMachine.Inductive.Combinators.html#462" class="Bound">p</a><a id="504" class="Symbol">)</a>
  <a id="AllS.snoc"></a><a id="508" href="StateMachine.Inductive.Combinators.html#508" class="InductiveConstructor">snoc</a> <a id="513" class="Symbol">:</a> <a id="515" class="Symbol">∀</a> <a id="517" class="Symbol">{</a><a id="518" href="StateMachine.Inductive.Combinators.html#518" class="Bound">s</a> <a id="520" href="StateMachine.Inductive.Combinators.html#520" class="Bound">s&#39;</a> <a id="523" href="StateMachine.Inductive.Combinators.html#523" class="Bound">s&#39;&#39;</a><a id="526" class="Symbol">}</a> <a id="528" class="Symbol">(</a><a id="529" href="StateMachine.Inductive.Combinators.html#529" class="Bound">p</a> <a id="531" class="Symbol">:</a> <a id="533" href="StateMachine.Inductive.Combinators.html#518" class="Bound">s</a> <a id="535" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="538" href="StateMachine.Inductive.Combinators.html#520" class="Bound">s&#39;</a><a id="540" class="Symbol">)(</a><a id="542" href="StateMachine.Inductive.Combinators.html#542" class="Bound">q</a> <a id="544" class="Symbol">:</a> <a id="546" href="StateMachine.Inductive.Combinators.html#520" class="Bound">s&#39;</a> <a id="549" href="StateMachine.Inductive.Core.html#490" class="Function Operator">↝</a> <a id="551" href="StateMachine.Inductive.Combinators.html#523" class="Bound">s&#39;&#39;</a><a id="554" class="Symbol">)</a>
    <a id="560" class="Symbol">→</a> <a id="562" href="StateMachine.Inductive.Combinators.html#401" class="Bound">P</a> <a id="564" href="StateMachine.Inductive.Combinators.html#523" class="Bound">s&#39;&#39;</a>
    <a id="572" class="Symbol">→</a> <a id="574" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="579" href="StateMachine.Inductive.Combinators.html#401" class="Bound">P</a> <a id="581" href="StateMachine.Inductive.Combinators.html#529" class="Bound">p</a> <a id="583" class="Symbol">→</a> <a id="585" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="590" href="StateMachine.Inductive.Combinators.html#401" class="Bound">P</a> <a id="592" class="Symbol">(</a><a id="593" href="StateMachine.Inductive.Core.html#650" class="InductiveConstructor">snoc</a> <a id="598" href="StateMachine.Inductive.Combinators.html#529" class="Bound">p</a> <a id="600" href="StateMachine.Inductive.Combinators.html#542" class="Bound">q</a><a id="601" class="Symbol">)</a>

<a id="604" class="Comment">-- the property holds in the end</a>
<a id="end"></a><a id="637" href="StateMachine.Inductive.Combinators.html#637" class="Function">end</a> <a id="641" class="Symbol">:</a> <a id="643" class="Symbol">∀</a> <a id="645" href="StateMachine.Inductive.Combinators.html#645" class="Bound">P</a> <a id="647" class="Symbol">{</a><a id="648" href="StateMachine.Inductive.Combinators.html#648" class="Bound">s</a> <a id="650" href="StateMachine.Inductive.Combinators.html#650" class="Bound">s&#39;</a><a id="652" class="Symbol">}{</a><a id="654" href="StateMachine.Inductive.Combinators.html#654" class="Bound">p</a> <a id="656" class="Symbol">:</a> <a id="658" href="StateMachine.Inductive.Combinators.html#648" class="Bound">s</a> <a id="660" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="663" href="StateMachine.Inductive.Combinators.html#650" class="Bound">s&#39;</a><a id="665" class="Symbol">}</a> <a id="667" class="Symbol">→</a> <a id="669" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="674" href="StateMachine.Inductive.Combinators.html#645" class="Bound">P</a> <a id="676" href="StateMachine.Inductive.Combinators.html#654" class="Bound">p</a> <a id="678" class="Symbol">→</a> <a id="680" href="StateMachine.Inductive.Combinators.html#645" class="Bound">P</a> <a id="682" href="StateMachine.Inductive.Combinators.html#650" class="Bound">s&#39;</a>
<a id="685" href="StateMachine.Inductive.Combinators.html#637" class="Function">end</a> <a id="689" href="StateMachine.Inductive.Combinators.html#689" class="Bound">P</a> <a id="691" class="Symbol">(</a><a id="692" href="StateMachine.Inductive.Combinators.html#448" class="InductiveConstructor">root</a> <a id="697" href="StateMachine.Inductive.Combinators.html#697" class="Bound">p</a> <a id="699" href="StateMachine.Inductive.Combinators.html#699" class="Bound">q</a><a id="700" class="Symbol">)</a> <a id="702" class="Symbol">=</a> <a id="704" href="StateMachine.Inductive.Combinators.html#699" class="Bound">q</a>
<a id="706" href="StateMachine.Inductive.Combinators.html#637" class="Function">end</a> <a id="710" href="StateMachine.Inductive.Combinators.html#710" class="Bound">P</a> <a id="712" class="Symbol">(</a><a id="713" href="StateMachine.Inductive.Combinators.html#508" class="InductiveConstructor">snoc</a> <a id="718" href="StateMachine.Inductive.Combinators.html#718" class="Bound">p</a> <a id="720" href="StateMachine.Inductive.Combinators.html#720" class="Bound">q</a> <a id="722" href="StateMachine.Inductive.Combinators.html#722" class="Bound">r</a> <a id="724" href="StateMachine.Inductive.Combinators.html#724" class="Bound">s</a><a id="725" class="Symbol">)</a> <a id="727" class="Symbol">=</a> <a id="729" href="StateMachine.Inductive.Combinators.html#722" class="Bound">r</a>

<a id="all-lem"></a><a id="732" href="StateMachine.Inductive.Combinators.html#732" class="Function">all-lem</a> <a id="740" class="Symbol">:</a> <a id="742" class="Symbol">(</a><a id="743" href="StateMachine.Inductive.Combinators.html#743" class="Bound">P</a> <a id="745" class="Symbol">:</a> <a id="747" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="749" class="Symbol">→</a> <a id="751" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="754" class="Symbol">)</a>
        <a id="764" class="Symbol">→</a> <a id="766" class="Symbol">(∀{</a><a id="769" href="StateMachine.Inductive.Combinators.html#769" class="Bound">s</a><a id="770" class="Symbol">}</a> <a id="772" class="Symbol">→</a> <a id="774" href="StateMachine.Base.html#2377" class="Function">Init</a> <a id="779" href="StateMachine.Inductive.Combinators.html#769" class="Bound">s</a> <a id="781" class="Symbol">→</a> <a id="783" href="StateMachine.Inductive.Combinators.html#743" class="Bound">P</a> <a id="785" href="StateMachine.Inductive.Combinators.html#769" class="Bound">s</a><a id="786" class="Symbol">)</a>
        <a id="796" class="Symbol">→</a> <a id="798" class="Symbol">(∀{</a><a id="801" href="StateMachine.Inductive.Combinators.html#801" class="Bound">s</a> <a id="803" href="StateMachine.Inductive.Combinators.html#803" class="Bound">s&#39;</a><a id="805" class="Symbol">}</a> <a id="807" class="Symbol">→</a> <a id="809" href="StateMachine.Inductive.Combinators.html#801" class="Bound">s</a> <a id="811" href="StateMachine.Inductive.Core.html#490" class="Function Operator">↝</a> <a id="813" href="StateMachine.Inductive.Combinators.html#803" class="Bound">s&#39;</a> <a id="816" class="Symbol">→</a> <a id="818" href="StateMachine.Inductive.Combinators.html#743" class="Bound">P</a> <a id="820" href="StateMachine.Inductive.Combinators.html#801" class="Bound">s</a> <a id="822" class="Symbol">→</a> <a id="824" href="StateMachine.Inductive.Combinators.html#743" class="Bound">P</a> <a id="826" href="StateMachine.Inductive.Combinators.html#803" class="Bound">s&#39;</a><a id="828" class="Symbol">)</a>
        <a id="838" class="Symbol">→</a> <a id="840" class="Symbol">∀</a> <a id="842" class="Symbol">{</a><a id="843" href="StateMachine.Inductive.Combinators.html#843" class="Bound">s</a> <a id="845" href="StateMachine.Inductive.Combinators.html#845" class="Bound">s&#39;</a><a id="847" class="Symbol">}(</a><a id="849" href="StateMachine.Inductive.Combinators.html#849" class="Bound">p</a> <a id="851" class="Symbol">:</a> <a id="853" href="StateMachine.Inductive.Combinators.html#843" class="Bound">s</a> <a id="855" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="858" href="StateMachine.Inductive.Combinators.html#845" class="Bound">s&#39;</a><a id="860" class="Symbol">)</a> <a id="862" class="Symbol">→</a> <a id="864" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="869" href="StateMachine.Inductive.Combinators.html#743" class="Bound">P</a> <a id="871" href="StateMachine.Inductive.Combinators.html#849" class="Bound">p</a>
<a id="873" href="StateMachine.Inductive.Combinators.html#732" class="Function">all-lem</a> <a id="881" href="StateMachine.Inductive.Combinators.html#881" class="Bound">P</a> <a id="883" href="StateMachine.Inductive.Combinators.html#883" class="Bound">base</a> <a id="888" href="StateMachine.Inductive.Combinators.html#888" class="Bound">step</a> <a id="893" class="Symbol">(</a><a id="894" href="StateMachine.Inductive.Core.html#617" class="InductiveConstructor">root</a> <a id="899" href="StateMachine.Inductive.Combinators.html#899" class="Bound">p</a><a id="900" class="Symbol">)</a> <a id="902" class="Symbol">=</a> <a id="904" href="StateMachine.Inductive.Combinators.html#448" class="InductiveConstructor">root</a> <a id="909" href="StateMachine.Inductive.Combinators.html#899" class="Bound">p</a> <a id="911" class="Symbol">(</a><a id="912" href="StateMachine.Inductive.Combinators.html#883" class="Bound">base</a> <a id="917" href="StateMachine.Inductive.Combinators.html#899" class="Bound">p</a><a id="918" class="Symbol">)</a>
<a id="920" href="StateMachine.Inductive.Combinators.html#732" class="Function">all-lem</a> <a id="928" href="StateMachine.Inductive.Combinators.html#928" class="Bound">P</a> <a id="930" href="StateMachine.Inductive.Combinators.html#930" class="Bound">base</a> <a id="935" href="StateMachine.Inductive.Combinators.html#935" class="Bound">step</a> <a id="940" class="Symbol">(</a><a id="941" href="StateMachine.Inductive.Core.html#650" class="InductiveConstructor">snoc</a> <a id="946" href="StateMachine.Inductive.Combinators.html#946" class="Bound">p</a> <a id="948" href="StateMachine.Inductive.Combinators.html#948" class="Bound">q</a><a id="949" class="Symbol">)</a> <a id="951" class="Symbol">=</a>
  <a id="955" href="StateMachine.Inductive.Combinators.html#508" class="InductiveConstructor">snoc</a> <a id="960" href="StateMachine.Inductive.Combinators.html#946" class="Bound">p</a> <a id="962" href="StateMachine.Inductive.Combinators.html#948" class="Bound">q</a> <a id="964" class="Symbol">(</a><a id="965" href="StateMachine.Inductive.Combinators.html#935" class="Bound">step</a> <a id="970" href="StateMachine.Inductive.Combinators.html#948" class="Bound">q</a> <a id="972" class="Symbol">(</a><a id="973" href="StateMachine.Inductive.Combinators.html#637" class="Function">end</a> <a id="977" href="StateMachine.Inductive.Combinators.html#928" class="Bound">P</a> <a id="979" href="StateMachine.Inductive.Combinators.html#993" class="Function">h</a><a id="980" class="Symbol">))</a> <a id="983" href="StateMachine.Inductive.Combinators.html#993" class="Function">h</a>
  <a id="987" class="Keyword">where</a> <a id="993" href="StateMachine.Inductive.Combinators.html#993" class="Function">h</a> <a id="995" class="Symbol">=</a> <a id="997" href="StateMachine.Inductive.Combinators.html#732" class="Function">all-lem</a> <a id="1005" href="StateMachine.Inductive.Combinators.html#928" class="Bound">P</a> <a id="1007" href="StateMachine.Inductive.Combinators.html#930" class="Bound">base</a> <a id="1012" href="StateMachine.Inductive.Combinators.html#935" class="Bound">step</a> <a id="1017" href="StateMachine.Inductive.Combinators.html#946" class="Bound">p</a>

<a id="1020" class="Comment">-- properties of inputs (which may refer to the other stuff)</a>
<a id="1081" class="Keyword">data</a> <a id="AllI"></a><a id="1086" href="StateMachine.Inductive.Combinators.html#1086" class="Datatype">AllI</a> <a id="1091" class="Symbol">(</a><a id="1092" href="StateMachine.Inductive.Combinators.html#1092" class="Bound">P₀</a> <a id="1095" class="Symbol">:</a> <a id="1097" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="1099" class="Symbol">→</a> <a id="1101" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="1104" class="Symbol">)</a> <a id="1106" class="Symbol">(</a><a id="1107" href="StateMachine.Inductive.Combinators.html#1107" class="Bound">P</a> <a id="1109" class="Symbol">:</a> <a id="1111" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="1113" class="Symbol">→</a> <a id="1115" href="StateMachine.Inductive.Combinators.html#177" class="Bound">I</a> <a id="1117" class="Symbol">→</a> <a id="1119" href="StateMachine.Base.html#1178" class="Record">TxConstraints</a> <a id="1133" class="Symbol">→</a> <a id="1135" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="1137" class="Symbol">→</a> <a id="1139" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="1142" class="Symbol">)</a> <a id="1144" class="Symbol">:</a> <a id="1146" class="Symbol">∀</a> <a id="1148" class="Symbol">{</a><a id="1149" href="StateMachine.Inductive.Combinators.html#1149" class="Bound">s</a> <a id="1151" href="StateMachine.Inductive.Combinators.html#1151" class="Bound">s&#39;</a><a id="1153" class="Symbol">}</a> <a id="1155" class="Symbol">→</a> <a id="1157" href="StateMachine.Inductive.Combinators.html#1149" class="Bound">s</a> <a id="1159" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="1162" href="StateMachine.Inductive.Combinators.html#1151" class="Bound">s&#39;</a> <a id="1165" class="Symbol">→</a> <a id="1167" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1171" class="Keyword">where</a>
  <a id="AllI.root"></a><a id="1179" href="StateMachine.Inductive.Combinators.html#1179" class="InductiveConstructor">root</a> <a id="1184" class="Symbol">:</a> <a id="1186" class="Symbol">∀</a> <a id="1188" class="Symbol">{</a><a id="1189" href="StateMachine.Inductive.Combinators.html#1189" class="Bound">s</a><a id="1190" class="Symbol">}</a> <a id="1192" class="Symbol">(</a><a id="1193" href="StateMachine.Inductive.Combinators.html#1193" class="Bound">p</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="StateMachine.Base.html#2377" class="Function">Init</a> <a id="1202" href="StateMachine.Inductive.Combinators.html#1189" class="Bound">s</a><a id="1203" class="Symbol">)</a>
    <a id="1209" class="Symbol">→</a> <a id="1211" href="StateMachine.Inductive.Combinators.html#1092" class="Bound">P₀</a> <a id="1214" href="StateMachine.Inductive.Combinators.html#1189" class="Bound">s</a>
    <a id="1220" class="Symbol">→</a> <a id="1222" href="StateMachine.Inductive.Combinators.html#1086" class="Datatype">AllI</a> <a id="1227" href="StateMachine.Inductive.Combinators.html#1092" class="Bound">P₀</a> <a id="1230" href="StateMachine.Inductive.Combinators.html#1107" class="Bound">P</a> <a id="1232" class="Symbol">(</a><a id="1233" href="StateMachine.Inductive.Core.html#617" class="InductiveConstructor">root</a> <a id="1238" href="StateMachine.Inductive.Combinators.html#1193" class="Bound">p</a><a id="1239" class="Symbol">)</a>
  <a id="AllI.snoc"></a><a id="1243" href="StateMachine.Inductive.Combinators.html#1243" class="InductiveConstructor">snoc</a> <a id="1248" class="Symbol">:</a> <a id="1250" class="Symbol">∀</a> <a id="1252" class="Symbol">{</a><a id="1253" href="StateMachine.Inductive.Combinators.html#1253" class="Bound">s</a> <a id="1255" href="StateMachine.Inductive.Combinators.html#1255" class="Bound">s&#39;</a> <a id="1258" href="StateMachine.Inductive.Combinators.html#1258" class="Bound">s&#39;&#39;</a> <a id="1262" class="Symbol">}</a> <a id="1264" class="Symbol">(</a><a id="1265" href="StateMachine.Inductive.Combinators.html#1265" class="Bound">p</a> <a id="1267" class="Symbol">:</a> <a id="1269" href="StateMachine.Inductive.Combinators.html#1253" class="Bound">s</a> <a id="1271" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="1274" href="StateMachine.Inductive.Combinators.html#1255" class="Bound">s&#39;</a><a id="1276" class="Symbol">)(</a><a id="1278" href="StateMachine.Inductive.Combinators.html#1278" class="Bound">q</a> <a id="1280" class="Symbol">:</a> <a id="1282" href="StateMachine.Inductive.Combinators.html#1255" class="Bound">s&#39;</a> <a id="1285" href="StateMachine.Inductive.Core.html#490" class="Function Operator">↝</a> <a id="1287" href="StateMachine.Inductive.Combinators.html#1258" class="Bound">s&#39;&#39;</a><a id="1290" class="Symbol">)</a>
    <a id="1296" class="Symbol">→</a> <a id="1298" href="StateMachine.Inductive.Combinators.html#1107" class="Bound">P</a> <a id="1300" href="StateMachine.Inductive.Combinators.html#1255" class="Bound">s&#39;</a> <a id="1303" class="Symbol">(</a><a id="1304" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1310" href="StateMachine.Inductive.Combinators.html#1278" class="Bound">q</a><a id="1311" class="Symbol">)</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1320" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1322" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1328" href="StateMachine.Inductive.Combinators.html#1278" class="Bound">q</a><a id="1329" class="Symbol">)</a> <a id="1331" href="StateMachine.Inductive.Combinators.html#1258" class="Bound">s&#39;&#39;</a>
    <a id="1339" class="Symbol">→</a> <a id="1341" href="StateMachine.Inductive.Combinators.html#1086" class="Datatype">AllI</a> <a id="1346" href="StateMachine.Inductive.Combinators.html#1092" class="Bound">P₀</a> <a id="1349" href="StateMachine.Inductive.Combinators.html#1107" class="Bound">P</a> <a id="1351" href="StateMachine.Inductive.Combinators.html#1265" class="Bound">p</a> <a id="1353" class="Symbol">→</a> <a id="1355" href="StateMachine.Inductive.Combinators.html#1086" class="Datatype">AllI</a> <a id="1360" href="StateMachine.Inductive.Combinators.html#1092" class="Bound">P₀</a> <a id="1363" href="StateMachine.Inductive.Combinators.html#1107" class="Bound">P</a> <a id="1365" class="Symbol">(</a><a id="1366" href="StateMachine.Inductive.Core.html#650" class="InductiveConstructor">snoc</a> <a id="1371" href="StateMachine.Inductive.Combinators.html#1265" class="Bound">p</a> <a id="1373" href="StateMachine.Inductive.Combinators.html#1278" class="Bound">q</a><a id="1374" class="Symbol">)</a>

<a id="1377" class="Comment">-- *** Any ***</a>

<a id="1393" class="Keyword">data</a> <a id="AnyS"></a><a id="1398" href="StateMachine.Inductive.Combinators.html#1398" class="Datatype">AnyS</a> <a id="1403" class="Symbol">(</a><a id="1404" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1406" class="Symbol">:</a> <a id="1408" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="1410" class="Symbol">→</a> <a id="1412" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="1415" class="Symbol">)</a> <a id="1417" class="Symbol">:</a> <a id="1419" class="Symbol">∀{</a><a id="1421" href="StateMachine.Inductive.Combinators.html#1421" class="Bound">s</a> <a id="1423" href="StateMachine.Inductive.Combinators.html#1423" class="Bound">s&#39;</a><a id="1425" class="Symbol">}</a> <a id="1427" class="Symbol">→</a> <a id="1429" href="StateMachine.Inductive.Combinators.html#1421" class="Bound">s</a> <a id="1431" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="1434" href="StateMachine.Inductive.Combinators.html#1423" class="Bound">s&#39;</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1443" class="Keyword">where</a>

  <a id="AnyS.root"></a><a id="1452" href="StateMachine.Inductive.Combinators.html#1452" class="InductiveConstructor">root</a> <a id="1457" class="Symbol">:</a> <a id="1459" class="Symbol">∀</a> <a id="1461" class="Symbol">{</a><a id="1462" href="StateMachine.Inductive.Combinators.html#1462" class="Bound">s</a><a id="1463" class="Symbol">}</a> <a id="1465" class="Symbol">(</a><a id="1466" href="StateMachine.Inductive.Combinators.html#1466" class="Bound">p</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="StateMachine.Base.html#2377" class="Function">Init</a> <a id="1475" href="StateMachine.Inductive.Combinators.html#1462" class="Bound">s</a><a id="1476" class="Symbol">)</a>
    <a id="1482" class="Symbol">→</a> <a id="1484" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1486" href="StateMachine.Inductive.Combinators.html#1462" class="Bound">s</a>
    <a id="1492" class="Symbol">→</a> <a id="1494" href="StateMachine.Inductive.Combinators.html#1398" class="Datatype">AnyS</a> <a id="1499" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1501" class="Symbol">(</a><a id="1502" href="StateMachine.Inductive.Core.html#617" class="InductiveConstructor">root</a> <a id="1507" href="StateMachine.Inductive.Combinators.html#1466" class="Bound">p</a><a id="1508" class="Symbol">)</a>

  <a id="AnyS.here"></a><a id="1513" href="StateMachine.Inductive.Combinators.html#1513" class="InductiveConstructor">here</a> <a id="1518" class="Symbol">:</a> <a id="1520" class="Symbol">∀</a> <a id="1522" class="Symbol">{</a><a id="1523" href="StateMachine.Inductive.Combinators.html#1523" class="Bound">s</a> <a id="1525" href="StateMachine.Inductive.Combinators.html#1525" class="Bound">s&#39;</a> <a id="1528" href="StateMachine.Inductive.Combinators.html#1528" class="Bound">s&#39;&#39;</a><a id="1531" class="Symbol">}</a> <a id="1533" class="Symbol">(</a><a id="1534" href="StateMachine.Inductive.Combinators.html#1534" class="Bound">p</a> <a id="1536" class="Symbol">:</a> <a id="1538" href="StateMachine.Inductive.Combinators.html#1523" class="Bound">s</a> <a id="1540" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="1543" href="StateMachine.Inductive.Combinators.html#1525" class="Bound">s&#39;</a><a id="1545" class="Symbol">)(</a><a id="1547" href="StateMachine.Inductive.Combinators.html#1547" class="Bound">q</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="StateMachine.Inductive.Combinators.html#1525" class="Bound">s&#39;</a> <a id="1554" href="StateMachine.Inductive.Core.html#490" class="Function Operator">↝</a> <a id="1556" href="StateMachine.Inductive.Combinators.html#1528" class="Bound">s&#39;&#39;</a><a id="1559" class="Symbol">)</a>
    <a id="1565" class="Symbol">→</a> <a id="1567" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1569" href="StateMachine.Inductive.Combinators.html#1528" class="Bound">s&#39;&#39;</a>
    <a id="1577" class="Symbol">→</a> <a id="1579" href="StateMachine.Inductive.Combinators.html#1398" class="Datatype">AnyS</a> <a id="1584" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1586" class="Symbol">(</a><a id="1587" href="StateMachine.Inductive.Core.html#650" class="InductiveConstructor">snoc</a> <a id="1592" href="StateMachine.Inductive.Combinators.html#1534" class="Bound">p</a> <a id="1594" href="StateMachine.Inductive.Combinators.html#1547" class="Bound">q</a><a id="1595" class="Symbol">)</a>

  <a id="AnyS.there"></a><a id="1600" href="StateMachine.Inductive.Combinators.html#1600" class="InductiveConstructor">there</a> <a id="1606" class="Symbol">:</a> <a id="1608" class="Symbol">∀</a> <a id="1610" class="Symbol">{</a><a id="1611" href="StateMachine.Inductive.Combinators.html#1611" class="Bound">s</a> <a id="1613" href="StateMachine.Inductive.Combinators.html#1613" class="Bound">s&#39;</a> <a id="1616" href="StateMachine.Inductive.Combinators.html#1616" class="Bound">s&#39;&#39;</a><a id="1619" class="Symbol">}</a> <a id="1621" class="Symbol">(</a><a id="1622" href="StateMachine.Inductive.Combinators.html#1622" class="Bound">p</a> <a id="1624" class="Symbol">:</a> <a id="1626" href="StateMachine.Inductive.Combinators.html#1611" class="Bound">s</a> <a id="1628" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="1631" href="StateMachine.Inductive.Combinators.html#1613" class="Bound">s&#39;</a><a id="1633" class="Symbol">)(</a><a id="1635" href="StateMachine.Inductive.Combinators.html#1635" class="Bound">q</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="StateMachine.Inductive.Combinators.html#1613" class="Bound">s&#39;</a> <a id="1642" href="StateMachine.Inductive.Core.html#490" class="Function Operator">↝</a> <a id="1644" href="StateMachine.Inductive.Combinators.html#1616" class="Bound">s&#39;&#39;</a><a id="1647" class="Symbol">)</a>
    <a id="1653" class="Symbol">→</a> <a id="1655" href="StateMachine.Inductive.Combinators.html#1398" class="Datatype">AnyS</a> <a id="1660" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1662" href="StateMachine.Inductive.Combinators.html#1622" class="Bound">p</a>
    <a id="1668" class="Symbol">→</a> <a id="1670" href="StateMachine.Inductive.Combinators.html#1398" class="Datatype">AnyS</a> <a id="1675" href="StateMachine.Inductive.Combinators.html#1404" class="Bound">P</a> <a id="1677" class="Symbol">(</a><a id="1678" href="StateMachine.Inductive.Core.html#650" class="InductiveConstructor">snoc</a> <a id="1683" href="StateMachine.Inductive.Combinators.html#1622" class="Bound">p</a> <a id="1685" href="StateMachine.Inductive.Combinators.html#1635" class="Bound">q</a><a id="1686" class="Symbol">)</a>
<a id="1688" class="Comment">-- TODO: this isn&#39;t right, it needs two snoctructors for root</a>

<a id="1751" class="Comment">-- *** Until ***</a>

<a id="1769" class="Comment">-- P+Q*</a>
<a id="1777" class="Comment">-- P holds and then Q holds</a>

<a id="1806" class="Comment">-- * P has to hold at least at the initial state, it can hold forever</a>
<a id="1876" class="Comment">-- and then Q doesn&#39;t need to hold at all</a>

<a id="1919" class="Comment">-- * if Q takes over then P does not need to hold anymore. There is no</a>
<a id="1990" class="Comment">-- enforced overlap</a>

<a id="2011" class="Keyword">data</a> <a id="UntilS"></a><a id="2016" href="StateMachine.Inductive.Combinators.html#2016" class="Datatype">UntilS</a> <a id="2023" class="Symbol">(</a><a id="2024" href="StateMachine.Inductive.Combinators.html#2024" class="Bound">P</a> <a id="2026" href="StateMachine.Inductive.Combinators.html#2026" class="Bound">Q</a> <a id="2028" class="Symbol">:</a> <a id="2030" href="StateMachine.Inductive.Combinators.html#175" class="Bound">S</a> <a id="2032" class="Symbol">→</a> <a id="2034" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="2037" class="Symbol">)</a> <a id="2039" class="Symbol">:</a> <a id="2041" class="Symbol">∀{</a><a id="2043" href="StateMachine.Inductive.Combinators.html#2043" class="Bound">s</a> <a id="2045" href="StateMachine.Inductive.Combinators.html#2045" class="Bound">s&#39;</a><a id="2047" class="Symbol">}</a> <a id="2049" class="Symbol">→</a> <a id="2051" href="StateMachine.Inductive.Combinators.html#2043" class="Bound">s</a> <a id="2053" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="2056" href="StateMachine.Inductive.Combinators.html#2045" class="Bound">s&#39;</a> <a id="2059" class="Symbol">→</a> <a id="2061" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2065" class="Keyword">where</a>
  <a id="UntilS.prefix"></a><a id="2073" href="StateMachine.Inductive.Combinators.html#2073" class="InductiveConstructor">prefix</a> <a id="2080" class="Symbol">:</a> <a id="2082" class="Symbol">∀{</a><a id="2084" href="StateMachine.Inductive.Combinators.html#2084" class="Bound">s</a> <a id="2086" href="StateMachine.Inductive.Combinators.html#2086" class="Bound">s&#39;</a><a id="2088" class="Symbol">}(</a><a id="2090" href="StateMachine.Inductive.Combinators.html#2090" class="Bound">xs</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="StateMachine.Inductive.Combinators.html#2084" class="Bound">s</a> <a id="2097" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="2100" href="StateMachine.Inductive.Combinators.html#2086" class="Bound">s&#39;</a><a id="2102" class="Symbol">)</a>
    <a id="2108" class="Symbol">→</a> <a id="2110" href="StateMachine.Inductive.Combinators.html#395" class="Datatype">AllS</a> <a id="2115" href="StateMachine.Inductive.Combinators.html#2024" class="Bound">P</a> <a id="2117" href="StateMachine.Inductive.Combinators.html#2090" class="Bound">xs</a>
    <a id="2124" class="Symbol">→</a> <a id="2126" href="StateMachine.Inductive.Combinators.html#2016" class="Datatype">UntilS</a> <a id="2133" href="StateMachine.Inductive.Combinators.html#2024" class="Bound">P</a> <a id="2135" href="StateMachine.Inductive.Combinators.html#2026" class="Bound">Q</a> <a id="2137" href="StateMachine.Inductive.Combinators.html#2090" class="Bound">xs</a>

  <a id="UntilS.suffix"></a><a id="2143" href="StateMachine.Inductive.Combinators.html#2143" class="InductiveConstructor">suffix</a> <a id="2150" class="Symbol">:</a> <a id="2152" class="Symbol">∀{</a><a id="2154" href="StateMachine.Inductive.Combinators.html#2154" class="Bound">s</a> <a id="2156" href="StateMachine.Inductive.Combinators.html#2156" class="Bound">s&#39;</a> <a id="2159" href="StateMachine.Inductive.Combinators.html#2159" class="Bound">s&#39;&#39;</a><a id="2162" class="Symbol">}(</a><a id="2164" href="StateMachine.Inductive.Combinators.html#2164" class="Bound">xs</a> <a id="2167" class="Symbol">:</a> <a id="2169" href="StateMachine.Inductive.Combinators.html#2154" class="Bound">s</a> <a id="2171" href="StateMachine.Inductive.Core.html#593" class="Datatype Operator">↝⋆</a> <a id="2174" href="StateMachine.Inductive.Combinators.html#2156" class="Bound">s&#39;</a><a id="2176" class="Symbol">)</a>
    <a id="2182" class="Symbol">→</a> <a id="2184" href="StateMachine.Inductive.Combinators.html#2016" class="Datatype">UntilS</a> <a id="2191" href="StateMachine.Inductive.Combinators.html#2024" class="Bound">P</a> <a id="2193" href="StateMachine.Inductive.Combinators.html#2026" class="Bound">Q</a> <a id="2195" href="StateMachine.Inductive.Combinators.html#2164" class="Bound">xs</a>
    <a id="2202" class="Symbol">→</a> <a id="2204" class="Symbol">(</a><a id="2205" href="StateMachine.Inductive.Combinators.html#2205" class="Bound">x</a> <a id="2207" class="Symbol">:</a> <a id="2209" href="StateMachine.Inductive.Combinators.html#2156" class="Bound">s&#39;</a> <a id="2212" href="StateMachine.Inductive.Core.html#490" class="Function Operator">↝</a> <a id="2214" href="StateMachine.Inductive.Combinators.html#2159" class="Bound">s&#39;&#39;</a><a id="2217" class="Symbol">)</a>
    <a id="2223" class="Symbol">→</a> <a id="2225" href="StateMachine.Inductive.Combinators.html#2026" class="Bound">Q</a> <a id="2227" href="StateMachine.Inductive.Combinators.html#2159" class="Bound">s&#39;&#39;</a>
    <a id="2235" class="Symbol">→</a> <a id="2237" href="StateMachine.Inductive.Combinators.html#2016" class="Datatype">UntilS</a> <a id="2244" href="StateMachine.Inductive.Combinators.html#2024" class="Bound">P</a> <a id="2246" href="StateMachine.Inductive.Combinators.html#2026" class="Bound">Q</a> <a id="2248" class="Symbol">(</a><a id="2249" href="StateMachine.Inductive.Core.html#650" class="InductiveConstructor">snoc</a> <a id="2254" href="StateMachine.Inductive.Combinators.html#2164" class="Bound">xs</a> <a id="2257" href="StateMachine.Inductive.Combinators.html#2205" class="Bound">x</a><a id="2258" class="Symbol">)</a>
</pre></body></html>